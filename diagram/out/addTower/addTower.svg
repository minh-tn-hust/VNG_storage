<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="511px" preserveAspectRatio="none" style="width:679px;height:511px;background:#FFFFFF;" version="1.1" viewBox="0 0 679 511" width="679px" zoomAndPan="magnify"><defs><filter height="300%" id="f3d5pvdttm1pu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="89.6094" y2="426.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="167" x2="167" y1="89.6094" y2="426.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="301.5" x2="301.5" y1="89.6094" y2="426.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="430.5" x2="430.5" y1="89.6094" y2="426.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="540.5" x2="540.5" y1="89.6094" y2="426.125"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="653.5" x2="653.5" y1="89.6094" y2="426.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="86.5332">Player</text><ellipse cx="28" cy="15" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M28,23 L28,50 M15,31 L41,31 M28,50 L15,65 M28,50 L41,65 " fill="none" filter="url(#f3d5pvdttm1pu)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="439.6582">Player</text><ellipse cx="28" cy="452.7344" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M28,460.7344 L28,487.7344 M15,468.7344 L41,468.7344 M28,487.7344 L15,502.7344 M28,487.7344 L41,502.7344 " fill="none" filter="url(#f3d5pvdttm1pu)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="140" y="86.5332">UILayer</text><path d="M146.5,44 L146.5,68 M146.5,56 L163.5,56 " fill="none" filter="url(#f3d5pvdttm1pu)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="175.5" cy="56" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="140" y="439.6582">UILayer</text><path d="M146.5,446.7344 L146.5,470.7344 M146.5,458.7344 L163.5,458.7344 " fill="none" filter="url(#f3d5pvdttm1pu)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="175.5" cy="458.7344" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="267.5" y="86.5332">MapLayer</text><path d="M281.5,44 L281.5,68 M281.5,56 L298.5,56 " fill="none" filter="url(#f3d5pvdttm1pu)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="310.5" cy="56" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="267.5" y="439.6582">MapLayer</text><path d="M281.5,446.7344 L281.5,470.7344 M281.5,458.7344 L298.5,458.7344 " fill="none" filter="url(#f3d5pvdttm1pu)" style="stroke:#A80036;stroke-width:2.0;"/><ellipse cx="310.5" cy="458.7344" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="383.5" y="86.5332">MapController</text><ellipse cx="431" cy="56" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="427,44,433,39,431,44,433,49,427,44" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="383.5" y="439.6582">MapController</text><ellipse cx="431" cy="458.7344" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="427,446.7344,433,441.7344,431,446.7344,433,451.7344,427,446.7344" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="488.5" y="86.5332">BattleController</text><ellipse cx="540.5" cy="56" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="536.5,44,542.5,39,540.5,44,542.5,49,536.5,44" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="488.5" y="439.6582">BattleController</text><ellipse cx="540.5" cy="458.7344" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="536.5,446.7344,542.5,441.7344,540.5,446.7344,542.5,451.7344,536.5,446.7344" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="629.5" y="86.5332">Server</text><ellipse cx="653.5" cy="56" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="649.5,44,655.5,39,653.5,44,655.5,49,649.5,44" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="629.5" y="439.6582">Server</text><ellipse cx="653.5" cy="458.7344" fill="#FEFECE" filter="url(#f3d5pvdttm1pu)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="649.5,446.7344,655.5,441.7344,653.5,446.7344,655.5,451.7344,649.5,446.7344" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="155,117.9609,165,121.9609,155,125.9609,159,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="28" x2="161" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="35" y="117.1045">cardSelected(index)</text><polygon fill="#A80036" points="290,148.3125,300,152.3125,290,156.3125,294,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="167" x2="296" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="174" y="147.4561">cardSelected(Card)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="302" x2="344" y1="182.6641" y2="182.6641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="344" x2="344" y1="182.6641" y2="195.6641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="303" x2="344" y1="195.6641" y2="195.6641"/><polygon fill="#A80036" points="313,191.6641,303,195.6641,313,199.6641,309,195.6641" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="309" y="177.8076">changCursorSprite()</text><polygon fill="#A80036" points="155,222.0156,165,226.0156,155,230.0156,159,226.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="28" x2="161" y1="226.0156" y2="226.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="35" y="221.1592">touchListener()</text><polygon fill="#A80036" points="419,252.3672,429,256.3672,419,260.3672,423,256.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="167" x2="425" y1="256.3672" y2="256.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="174" y="251.5107">canPlantHere()</text><polygon fill="#A80036" points="178,282.7188,168,286.7188,178,290.7188,174,286.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="172" x2="430" y1="286.7188" y2="286.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="184" y="281.8623">true</text><polygon fill="#A80036" points="419,313.0703,429,317.0703,419,321.0703,423,317.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="167" x2="425" y1="317.0703" y2="317.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="174" y="312.2139">plantTower(position)</text><polygon fill="#A80036" points="313,343.4219,303,347.4219,313,351.4219,309,347.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="307" x2="430" y1="347.4219" y2="347.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="319" y="342.5654">updateMapLayer()</text><polygon fill="#A80036" points="528.5,373.7734,538.5,377.7734,528.5,381.7734,532.5,377.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="302" x2="534.5" y1="377.7734" y2="377.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="309" y="372.917">updateMapLayer()</text><polygon fill="#A80036" points="641.5,404.125,651.5,408.125,641.5,412.125,645.5,408.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="540.5" x2="647.5" y1="408.125" y2="408.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="547.5" y="403.2686">newGameState</text><!--MD5=[8e967ca5f3e3aef9d7ed756e10f94e1b]
@startuml
actor Player as player
boundary UILayer as uiLayer
boundary MapLayer as mapLayer
control MapController as mapController
control BattleController as battleController
control Server as server

player -> uiLayer : cardSelected(index)
uiLayer -> mapLayer : cardSelected(Card)
mapLayer -> mapLayer : changCursorSprite()

player -> uiLayer : touchListener()
uiLayer -> mapController : canPlantHere()
mapController -> uiLayer : true
uiLayer -> mapController : plantTower(position)
mapController -> mapLayer : updateMapLayer()
mapLayer -> battleController : updateMapLayer()
battleController -> server : newGameState
@enduml

PlantUML version 1.2022.0(Tue Jan 11 08:16:42 PST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>