<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3419px" preserveAspectRatio="none" style="width:2692px;height:3419px;background:#FFFFFF;" version="1.1" viewBox="0 0 2692 3419" width="2692px" zoomAndPan="magnify"><defs><filter height="300%" id="fs3c5wokjyu48" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9f4a9814ac7a51520a26539c0f9ce412]
cluster Battle--><polygon fill="#FFFFFF" filter="url(#fs3c5wokjyu48)" points="16,6,63,6,70,29.6094,2675,29.6094,2675,3412,16,3412,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="70" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="41" x="20" y="22.5332">Battle</text><!--MD5=[88ad21ab7bce50ddea5b1d71debabfaa]
cluster Effecting--><polygon fill="#FFFFFF" filter="url(#fs3c5wokjyu48)" points="1992.5,1805,2061.5,1805,2068.5,1828.6094,2579,1828.6094,2579,2016,1992.5,2016,1992.5,1805" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1992.5" x2="2068.5" y1="1828.6094" y2="1828.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="63" x="1996.5" y="1821.5332">Effecting</text><!--MD5=[5161dec144f101a6c8b812f8860d5cb8]
cluster Map--><polygon fill="#FFFFFF" filter="url(#fs3c5wokjyu48)" points="40,420,76,420,83,443.6094,1131,443.6094,1131,710,40,710,40,420" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="40" x2="83" y1="443.6094" y2="443.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="30" x="44" y="436.5332">Map</text><!--MD5=[cada38b1c5ac292f9b5d8450294665ad]
cluster Tower--><polygon fill="#FFFFFF" filter="url(#fs3c5wokjyu48)" points="1159,2040,1208,2040,1215,2063.6094,2651,2063.6094,2651,2720,1159,2720,1159,2040" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1159" x2="1215" y1="2063.6094" y2="2063.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="43" x="1163" y="2056.5332">Tower</text><!--MD5=[9ff4618e7f714a1986a8864d332f25ec]
cluster Monster--><polygon fill="#FFFFFF" filter="url(#fs3c5wokjyu48)" points="779,734,844,734,851,757.6094,2271,757.6094,2271,1781,779,1781,779,734" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="779" x2="851" y1="757.6094" y2="757.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="59" x="783" y="750.5332">Monster</text><!--MD5=[0d457b02f53c874348b873a68398c1d6]
cluster SpellCasting--><polygon fill="#FFFFFF" filter="url(#fs3c5wokjyu48)" points="789.5,2744,883.5,2744,890.5,2767.6094,1448,2767.6094,1448,3388,789.5,3388,789.5,2744" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="789.5" x2="890.5" y1="2767.6094" y2="2767.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="88" x="793.5" y="2760.5332">SpellCasting</text><!--MD5=[9681dc6e01e10c6b4fe06895ae94f592]
cluster UI--><polygon fill="#FFFFFF" filter="url(#fs3c5wokjyu48)" points="458.5,50,478.5,50,485.5,73.6094,1127.5,73.6094,1127.5,396,458.5,396,458.5,50" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="458.5" x2="485.5" y1="73.6094" y2="73.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="14" x="462.5" y="66.5332">UI</text><!--MD5=[7fd3ad9519226af83856ecb0dcaaacae]
class BattleController--><rect codeLine="26" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="418.5781" id="BattleController" style="stroke:#A80036;stroke-width:1.5;" width="320" x="415" y="847.5"/><ellipse cx="498.75" cy="863.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M501.5156,859.375 Q501.6719,859.1563 501.8594,859.0469 Q502.0469,858.9375 502.2656,858.9375 Q502.6406,858.9375 502.875,859.2031 Q503.1094,859.4531 503.1094,860.0625 L503.1094,861.5156 Q503.1094,862.125 502.875,862.3906 Q502.6406,862.6563 502.2656,862.6563 Q501.9219,862.6563 501.7188,862.4531 Q501.5156,862.2656 501.4063,861.75 Q501.3594,861.3906 501.1719,861.2031 Q500.8438,860.8281 500.2344,860.6094 Q499.625,860.3906 499,860.3906 Q498.2344,860.3906 497.5938,860.7188 Q496.9688,861.0469 496.4688,861.7969 Q495.9844,862.5469 495.9844,863.5781 L495.9844,864.6719 Q495.9844,865.9063 496.875,866.7344 Q497.7656,867.5469 499.3594,867.5469 Q500.2969,867.5469 500.9531,867.2969 Q501.3438,867.1406 501.7656,866.7031 Q502.0313,866.4375 502.1719,866.3594 Q502.3281,866.2813 502.5313,866.2813 Q502.8594,866.2813 503.1094,866.5469 Q503.375,866.7969 503.375,867.1406 Q503.375,867.4844 503.0313,867.8906 Q502.5313,868.4688 501.7344,868.7969 Q500.6563,869.25 499.3594,869.25 Q497.8438,869.25 496.6406,868.625 Q495.6563,868.125 494.9688,867.0625 Q494.2813,865.9844 494.2813,864.7031 L494.2813,863.5469 Q494.2813,862.2188 494.8906,861.0781 Q495.5156,859.9219 496.6094,859.3125 Q497.7031,858.6875 498.9375,858.6875 Q499.6719,858.6875 500.3125,858.8594 Q500.9688,859.0156 501.5156,859.375 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="144" x="519.25" y="868.75">BattleController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="416" x2="734" y1="879.5" y2="879.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="423" y="887.5"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="435" y="894.6328">gameState : GameState</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="423" y="901.4453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="435" y="908.5781">uiLayer : UILayer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="423" y="915.3906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="435" y="922.5234">mapLayer : MapLayer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="423" y="929.3359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="224" x="435" y="936.4688">monsterSpawn : MonsterSpawnLayer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="423" y="943.2813"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="435" y="950.4141">round : int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="423" y="957.2266"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="245" x="435" y="964.3594">levelDescription : LevelDescription</text><line style="stroke:#A80036;stroke-width:1.0;" x1="416" x2="734" y1="971.1719" y2="971.1719"/><ellipse cx="426" cy="982.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="435" y="986.3047">getGameState() : void</text><ellipse cx="426" cy="996.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="196" x="435" y="1000.25">getLevelDescription() : void</text><ellipse cx="426" cy="1010.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="435" y="1014.1953">runNextRound() : void</text><ellipse cx="426" cy="1024.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="435" y="1028.1406">updateGameState(GameState newGameState) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="28" x="435" y="1042.0859">void</text><ellipse cx="426" cy="1051.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="154" x="435" y="1056.0313">updateUILayer() : void</text><ellipse cx="426" cy="1065.8438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="435" y="1069.9766">updateMapLayer() : void</text><ellipse cx="426" cy="1079.7891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="182" x="435" y="1083.9219">udateMonsterLayer() : void</text><ellipse cx="426" cy="1093.7344" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="435" y="1097.8672">updateTowerLayer() : void</text><ellipse cx="426" cy="1107.6797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="154" x="435" y="1111.8125">serverListenr() : void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="416" x2="734" y1="1118.625" y2="1118.625"/><polygon fill="none" points="426,1124.625,430,1128.625,426,1132.625,422,1128.625" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="231" x="435" y="1133.7578">chứa các layer liên quan tới game</text><polygon fill="none" points="426,1138.5703,430,1142.5703,426,1146.5703,422,1142.5703" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="217" x="435" y="1147.7031">nó sẽ chứa map của 2 người chơi</text><polygon fill="none" points="426,1152.5156,430,1156.5156,426,1160.5156,422,1156.5156" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="231" x="435" y="1161.6484">chứa thông tin của hai người chơi</text><polygon fill="none" points="426,1166.4609,430,1170.4609,426,1174.4609,422,1170.4609" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="231" x="435" y="1175.5938">lớp trực tiếp trao đổi với server</text><polygon fill="none" points="426,1180.4063,430,1184.4063,426,1188.4063,422,1184.4063" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="435" y="1189.5391">có khả năng gọi một layer nào đó cập nhật</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="98" x="435" y="1203.4844">trạng thái lại</text><polygon fill="none" points="426,1208.2969,430,1212.2969,426,1216.2969,422,1212.2969" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="435" y="1217.4297">chứa các hàm để các layer có thể gọi được</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="42" x="435" y="1231.375">update</text><polygon fill="none" points="426,1236.1875,430,1240.1875,426,1244.1875,422,1240.1875" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="435" y="1245.3203">chứa thông tin hiện tại của cả hai người</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="28" x="435" y="1259.2656">chơi</text><!--MD5=[354ba6fe2710e9f7c691253c66156a32]
class Effect--><rect codeLine="10" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="103.7813" id="Effect" style="stroke:#A80036;stroke-width:1.5;" width="173" x="2008.5" y="1869"/><ellipse cx="2063.75" cy="1885" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2066.5156,1880.875 Q2066.6719,1880.6563 2066.8594,1880.5469 Q2067.0469,1880.4375 2067.2656,1880.4375 Q2067.6406,1880.4375 2067.875,1880.7031 Q2068.1094,1880.9531 2068.1094,1881.5625 L2068.1094,1883.0156 Q2068.1094,1883.625 2067.875,1883.8906 Q2067.6406,1884.1563 2067.2656,1884.1563 Q2066.9219,1884.1563 2066.7188,1883.9531 Q2066.5156,1883.7656 2066.4063,1883.25 Q2066.3594,1882.8906 2066.1719,1882.7031 Q2065.8438,1882.3281 2065.2344,1882.1094 Q2064.625,1881.8906 2064,1881.8906 Q2063.2344,1881.8906 2062.5938,1882.2188 Q2061.9688,1882.5469 2061.4688,1883.2969 Q2060.9844,1884.0469 2060.9844,1885.0781 L2060.9844,1886.1719 Q2060.9844,1887.4063 2061.875,1888.2344 Q2062.7656,1889.0469 2064.3594,1889.0469 Q2065.2969,1889.0469 2065.9531,1888.7969 Q2066.3438,1888.6406 2066.7656,1888.2031 Q2067.0313,1887.9375 2067.1719,1887.8594 Q2067.3281,1887.7813 2067.5313,1887.7813 Q2067.8594,1887.7813 2068.1094,1888.0469 Q2068.375,1888.2969 2068.375,1888.6406 Q2068.375,1888.9844 2068.0313,1889.3906 Q2067.5313,1889.9688 2066.7344,1890.2969 Q2065.6563,1890.75 2064.3594,1890.75 Q2062.8438,1890.75 2061.6406,1890.125 Q2060.6563,1889.625 2059.9688,1888.5625 Q2059.2813,1887.4844 2059.2813,1886.2031 L2059.2813,1885.0469 Q2059.2813,1883.7188 2059.8906,1882.5781 Q2060.5156,1881.4219 2061.6094,1880.8125 Q2062.7031,1880.1875 2063.9375,1880.1875 Q2064.6719,1880.1875 2065.3125,1880.3594 Q2065.9688,1880.5156 2066.5156,1880.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="54" x="2084.25" y="1890.25">Effect</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2009.5" x2="2180.5" y1="1901" y2="1901"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2016.5" y="1909"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="2028.5" y="1916.1328">startingTime : double</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2016.5" y="1922.9453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="126" x="2028.5" y="1930.0781">effectime : double</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2009.5" x2="2180.5" y1="1936.8906" y2="1936.8906"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2016.5" y="1944.8906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="2028.5" y="1952.0234">effecting()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2016.5" y="1958.8359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="112" x="2028.5" y="1965.9688">isEnded() : bool</text><!--MD5=[482cd95b7c7e477a8aebad16ebcc83aa]
class MonsterEffecting--><rect codeLine="17" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="61.9453" id="MonsterEffecting" style="stroke:#A80036;stroke-width:1.5;" width="176" x="2387" y="1938"/><ellipse cx="2402" cy="1954" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2404.7656,1949.875 Q2404.9219,1949.6563 2405.1094,1949.5469 Q2405.2969,1949.4375 2405.5156,1949.4375 Q2405.8906,1949.4375 2406.125,1949.7031 Q2406.3594,1949.9531 2406.3594,1950.5625 L2406.3594,1952.0156 Q2406.3594,1952.625 2406.125,1952.8906 Q2405.8906,1953.1563 2405.5156,1953.1563 Q2405.1719,1953.1563 2404.9688,1952.9531 Q2404.7656,1952.7656 2404.6563,1952.25 Q2404.6094,1951.8906 2404.4219,1951.7031 Q2404.0938,1951.3281 2403.4844,1951.1094 Q2402.875,1950.8906 2402.25,1950.8906 Q2401.4844,1950.8906 2400.8438,1951.2188 Q2400.2188,1951.5469 2399.7188,1952.2969 Q2399.2344,1953.0469 2399.2344,1954.0781 L2399.2344,1955.1719 Q2399.2344,1956.4063 2400.125,1957.2344 Q2401.0156,1958.0469 2402.6094,1958.0469 Q2403.5469,1958.0469 2404.2031,1957.7969 Q2404.5938,1957.6406 2405.0156,1957.2031 Q2405.2813,1956.9375 2405.4219,1956.8594 Q2405.5781,1956.7813 2405.7813,1956.7813 Q2406.1094,1956.7813 2406.3594,1957.0469 Q2406.625,1957.2969 2406.625,1957.6406 Q2406.625,1957.9844 2406.2813,1958.3906 Q2405.7813,1958.9688 2404.9844,1959.2969 Q2403.9063,1959.75 2402.6094,1959.75 Q2401.0938,1959.75 2399.8906,1959.125 Q2398.9063,1958.625 2398.2188,1957.5625 Q2397.5313,1956.4844 2397.5313,1955.2031 L2397.5313,1954.0469 Q2397.5313,1952.7188 2398.1406,1951.5781 Q2398.7656,1950.4219 2399.8594,1949.8125 Q2400.9531,1949.1875 2402.1875,1949.1875 Q2402.9219,1949.1875 2403.5625,1949.3594 Q2404.2188,1949.5156 2404.7656,1949.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="144" x="2416" y="1959.25">MonsterEffecting</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2388" x2="2562" y1="1970" y2="1970"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2388" x2="2562" y1="1978" y2="1978"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2395" y="1986"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="2407" y="1993.1328">effecting()</text><!--MD5=[f007a9ead0b954f62bc6f88f24772554]
class TowerEffecting--><rect codeLine="21" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="61.9453" id="TowerEffecting" style="stroke:#A80036;stroke-width:1.5;" width="158" x="2396" y="1841"/><ellipse cx="2411" cy="1857" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2413.7656,1852.875 Q2413.9219,1852.6563 2414.1094,1852.5469 Q2414.2969,1852.4375 2414.5156,1852.4375 Q2414.8906,1852.4375 2415.125,1852.7031 Q2415.3594,1852.9531 2415.3594,1853.5625 L2415.3594,1855.0156 Q2415.3594,1855.625 2415.125,1855.8906 Q2414.8906,1856.1563 2414.5156,1856.1563 Q2414.1719,1856.1563 2413.9688,1855.9531 Q2413.7656,1855.7656 2413.6563,1855.25 Q2413.6094,1854.8906 2413.4219,1854.7031 Q2413.0938,1854.3281 2412.4844,1854.1094 Q2411.875,1853.8906 2411.25,1853.8906 Q2410.4844,1853.8906 2409.8438,1854.2188 Q2409.2188,1854.5469 2408.7188,1855.2969 Q2408.2344,1856.0469 2408.2344,1857.0781 L2408.2344,1858.1719 Q2408.2344,1859.4063 2409.125,1860.2344 Q2410.0156,1861.0469 2411.6094,1861.0469 Q2412.5469,1861.0469 2413.2031,1860.7969 Q2413.5938,1860.6406 2414.0156,1860.2031 Q2414.2813,1859.9375 2414.4219,1859.8594 Q2414.5781,1859.7813 2414.7813,1859.7813 Q2415.1094,1859.7813 2415.3594,1860.0469 Q2415.625,1860.2969 2415.625,1860.6406 Q2415.625,1860.9844 2415.2813,1861.3906 Q2414.7813,1861.9688 2413.9844,1862.2969 Q2412.9063,1862.75 2411.6094,1862.75 Q2410.0938,1862.75 2408.8906,1862.125 Q2407.9063,1861.625 2407.2188,1860.5625 Q2406.5313,1859.4844 2406.5313,1858.2031 L2406.5313,1857.0469 Q2406.5313,1855.7188 2407.1406,1854.5781 Q2407.7656,1853.4219 2408.8594,1852.8125 Q2409.9531,1852.1875 2411.1875,1852.1875 Q2411.9219,1852.1875 2412.5625,1852.3594 Q2413.2188,1852.5156 2413.7656,1852.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="126" x="2425" y="1862.25">TowerEffecting</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2397" x2="2553" y1="1873" y2="1873"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2397" x2="2553" y1="1881" y2="1881"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2404" y="1889"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="2416" y="1896.1328">effecting()</text><!--MD5=[856075a8db5ef531a06c3de9a9f2f448]
class MapLayer--><rect codeLine="55" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="237.2891" id="MapLayer" style="stroke:#A80036;stroke-width:1.5;" width="320" x="795" y="456.5"/><ellipse cx="914.75" cy="472.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M917.5156,468.375 Q917.6719,468.1563 917.8594,468.0469 Q918.0469,467.9375 918.2656,467.9375 Q918.6406,467.9375 918.875,468.2031 Q919.1094,468.4531 919.1094,469.0625 L919.1094,470.5156 Q919.1094,471.125 918.875,471.3906 Q918.6406,471.6563 918.2656,471.6563 Q917.9219,471.6563 917.7188,471.4531 Q917.5156,471.2656 917.4063,470.75 Q917.3594,470.3906 917.1719,470.2031 Q916.8438,469.8281 916.2344,469.6094 Q915.625,469.3906 915,469.3906 Q914.2344,469.3906 913.5938,469.7188 Q912.9688,470.0469 912.4688,470.7969 Q911.9844,471.5469 911.9844,472.5781 L911.9844,473.6719 Q911.9844,474.9063 912.875,475.7344 Q913.7656,476.5469 915.3594,476.5469 Q916.2969,476.5469 916.9531,476.2969 Q917.3438,476.1406 917.7656,475.7031 Q918.0313,475.4375 918.1719,475.3594 Q918.3281,475.2813 918.5313,475.2813 Q918.8594,475.2813 919.1094,475.5469 Q919.375,475.7969 919.375,476.1406 Q919.375,476.4844 919.0313,476.8906 Q918.5313,477.4688 917.7344,477.7969 Q916.6563,478.25 915.3594,478.25 Q913.8438,478.25 912.6406,477.625 Q911.6563,477.125 910.9688,476.0625 Q910.2813,474.9844 910.2813,473.7031 L910.2813,472.5469 Q910.2813,471.2188 910.8906,470.0781 Q911.5156,468.9219 912.6094,468.3125 Q913.7031,467.6875 914.9375,467.6875 Q915.6719,467.6875 916.3125,467.8594 Q916.9688,468.0156 917.5156,468.375 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="72" x="935.25" y="477.75">MapLayer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="796" x2="1114" y1="488.5" y2="488.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="803" y="496.5"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="815" y="503.6328">map : MapController</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="803" y="510.4453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="815" y="517.5781">mapSprite : cc.Sprite[][]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="803" y="524.3906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="815" y="531.5234">cursorSrite : cc.Sprite</text><line style="stroke:#A80036;stroke-width:1.0;" x1="796" x2="1114" y1="538.3359" y2="538.3359"/><ellipse cx="806" cy="549.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="815" y="553.4688">updateMapLayer() : void</text><ellipse cx="806" cy="563.2813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="815" y="567.4141">addTouchListener() : void</text><ellipse cx="806" cy="577.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="266" x="815" y="581.3594">cardSelected(Card selectedCard) : void</text><ellipse cx="806" cy="591.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="189" x="815" y="595.3047">changeCursorSprite() : void</text><ellipse cx="806" cy="605.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="273" x="815" y="609.25">getPathFromIndex(cc.Point index) : void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="796" x2="1114" y1="616.0625" y2="616.0625"/><polygon fill="none" points="806,622.0625,810,626.0625,806,630.0625,802,626.0625" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="815" y="631.1953">chứa map hiện tại của người chơi, cập nhật</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="168" x="815" y="645.1406">ô đặc biệt, cập nhật trụ</text><polygon fill="none" points="806,649.9531,810,653.9531,806,657.9531,802,653.9531" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="815" y="659.0859">có mối liên hệ với UILayer, khi một người</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="815" y="673.0313">bật card lên, mapLayer sẽ xác định các vị</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="189" x="815" y="686.9766">trí mà card có thể đặt được</text><!--MD5=[0d90a8b103c9fd97bb9f8fa164beee05]
class MapController--><rect codeLine="70" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="237.2891" id="MapController" style="stroke:#A80036;stroke-width:1.5;" width="320" x="415" y="456.5"/><ellipse cx="512.25" cy="472.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M515.0156,468.375 Q515.1719,468.1563 515.3594,468.0469 Q515.5469,467.9375 515.7656,467.9375 Q516.1406,467.9375 516.375,468.2031 Q516.6094,468.4531 516.6094,469.0625 L516.6094,470.5156 Q516.6094,471.125 516.375,471.3906 Q516.1406,471.6563 515.7656,471.6563 Q515.4219,471.6563 515.2188,471.4531 Q515.0156,471.2656 514.9063,470.75 Q514.8594,470.3906 514.6719,470.2031 Q514.3438,469.8281 513.7344,469.6094 Q513.125,469.3906 512.5,469.3906 Q511.7344,469.3906 511.0938,469.7188 Q510.4688,470.0469 509.9688,470.7969 Q509.4844,471.5469 509.4844,472.5781 L509.4844,473.6719 Q509.4844,474.9063 510.375,475.7344 Q511.2656,476.5469 512.8594,476.5469 Q513.7969,476.5469 514.4531,476.2969 Q514.8438,476.1406 515.2656,475.7031 Q515.5313,475.4375 515.6719,475.3594 Q515.8281,475.2813 516.0313,475.2813 Q516.3594,475.2813 516.6094,475.5469 Q516.875,475.7969 516.875,476.1406 Q516.875,476.4844 516.5313,476.8906 Q516.0313,477.4688 515.2344,477.7969 Q514.1563,478.25 512.8594,478.25 Q511.3438,478.25 510.1406,477.625 Q509.1563,477.125 508.4688,476.0625 Q507.7813,474.9844 507.7813,473.7031 L507.7813,472.5469 Q507.7813,471.2188 508.3906,470.0781 Q509.0156,468.9219 510.1094,468.3125 Q511.2031,467.6875 512.4375,467.6875 Q513.1719,467.6875 513.8125,467.8594 Q514.4688,468.0156 515.0156,468.375 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="117" x="532.75" y="477.75">MapController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="416" x2="734" y1="488.5" y2="488.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="423" y="496.5"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="98" x="435" y="503.6328">map : Cell[][]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="416" x2="734" y1="510.4453" y2="510.4453"/><ellipse cx="426" cy="521.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="91" x="435" y="525.5781">pathFinding()</text><ellipse cx="426" cy="535.3906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="266" x="435" y="539.5234">canPlantHere(cc.Point position) : bool</text><ellipse cx="426" cy="549.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="252" x="435" y="553.4688">plantTower(cc.Point position) : void</text><ellipse cx="426" cy="563.2813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="126" x="435" y="567.4141">updateMap() : void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="416" x2="734" y1="574.2266" y2="574.2266"/><polygon fill="#FFFF44" points="426,580.2266,430,584.2266,426,588.2266,422,584.2266" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="217" x="435" y="589.3594">thực hiện nhận map từ server ()</text><polygon fill="#FFFF44" points="426,594.1719,430,598.1719,426,602.1719,422,598.1719" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="435" y="603.3047">thực hiện tìm đường đi có trong map hiện</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="42" x="435" y="617.25">tại ()</text><polygon fill="#FFFF44" points="426,622.0625,430,626.0625,426,630.0625,422,626.0625" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="435" y="631.1953">thực hiện kiểm tra xem một trụ được đặt có</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="435" y="645.1406">hợp lệ hay không ()</text><polygon fill="#FFFF44" points="426,649.9531,430,653.9531,426,657.9531,422,653.9531" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="435" y="659.0859">thực hiện cập nhật những gì mà server gửi</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="210" x="435" y="673.0313">- những nước đi của đối thủ ()</text><polygon fill="none" points="426,677.8438,430,681.8438,426,685.8438,422,681.8438" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="238" x="435" y="686.9766">thực hiện giao tiếp với TowerLayer</text><!--MD5=[fea3dc74c7473bae0133d22265a91e2f]
class Cell--><rect codeLine="85" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="139.6719" id="Cell" style="stroke:#A80036;stroke-width:1.5;" width="299" x="56" y="505"/><ellipse cx="183.25" cy="521" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M186.0156,516.875 Q186.1719,516.6563 186.3594,516.5469 Q186.5469,516.4375 186.7656,516.4375 Q187.1406,516.4375 187.375,516.7031 Q187.6094,516.9531 187.6094,517.5625 L187.6094,519.0156 Q187.6094,519.625 187.375,519.8906 Q187.1406,520.1563 186.7656,520.1563 Q186.4219,520.1563 186.2188,519.9531 Q186.0156,519.7656 185.9063,519.25 Q185.8594,518.8906 185.6719,518.7031 Q185.3438,518.3281 184.7344,518.1094 Q184.125,517.8906 183.5,517.8906 Q182.7344,517.8906 182.0938,518.2188 Q181.4688,518.5469 180.9688,519.2969 Q180.4844,520.0469 180.4844,521.0781 L180.4844,522.1719 Q180.4844,523.4063 181.375,524.2344 Q182.2656,525.0469 183.8594,525.0469 Q184.7969,525.0469 185.4531,524.7969 Q185.8438,524.6406 186.2656,524.2031 Q186.5313,523.9375 186.6719,523.8594 Q186.8281,523.7813 187.0313,523.7813 Q187.3594,523.7813 187.6094,524.0469 Q187.875,524.2969 187.875,524.6406 Q187.875,524.9844 187.5313,525.3906 Q187.0313,525.9688 186.2344,526.2969 Q185.1563,526.75 183.8594,526.75 Q182.3438,526.75 181.1406,526.125 Q180.1563,525.625 179.4688,524.5625 Q178.7813,523.4844 178.7813,522.2031 L178.7813,521.0469 Q178.7813,519.7188 179.3906,518.5781 Q180.0156,517.4219 181.1094,516.8125 Q182.2031,516.1875 183.4375,516.1875 Q184.1719,516.1875 184.8125,516.3594 Q185.4688,516.5156 186.0156,516.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="36" x="203.75" y="526.25">Cell</text><line style="stroke:#A80036;stroke-width:1.5;" x1="57" x2="354" y1="537" y2="537"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="64" y="545"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="76" y="552.1328">cellType : CellType</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="64" y="558.9453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="76" y="566.0781">path : cc.Point[]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="57" x2="354" y1="572.8906" y2="572.8906"/><ellipse cx="67" cy="583.8906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="266" x="76" y="588.0234">changeCellType(CellType newCellType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="28" x="76" y="601.9688">void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="57" x2="354" y1="608.7813" y2="608.7813"/><polygon fill="none" points="67,614.7813,71,618.7813,67,622.7813,63,618.7813" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="76" y="623.9141">có danh sách đường đi</text><polygon fill="none" points="67,628.7266,71,632.7266,67,636.7266,63,632.7266" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="154" x="76" y="637.8594">có trạng thái hiện tại</text><!--MD5=[81778440ee08aee061022eb499f3b44f]
class TowerSpawnLayer--><rect codeLine="101" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="279.125" id="TowerSpawnLayer" style="stroke:#A80036;stroke-width:1.5;" width="320" x="1175" y="2163.5"/><ellipse cx="1263.25" cy="2179.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1266.0156,2175.375 Q1266.1719,2175.1563 1266.3594,2175.0469 Q1266.5469,2174.9375 1266.7656,2174.9375 Q1267.1406,2174.9375 1267.375,2175.2031 Q1267.6094,2175.4531 1267.6094,2176.0625 L1267.6094,2177.5156 Q1267.6094,2178.125 1267.375,2178.3906 Q1267.1406,2178.6563 1266.7656,2178.6563 Q1266.4219,2178.6563 1266.2188,2178.4531 Q1266.0156,2178.2656 1265.9063,2177.75 Q1265.8594,2177.3906 1265.6719,2177.2031 Q1265.3438,2176.8281 1264.7344,2176.6094 Q1264.125,2176.3906 1263.5,2176.3906 Q1262.7344,2176.3906 1262.0938,2176.7188 Q1261.4688,2177.0469 1260.9688,2177.7969 Q1260.4844,2178.5469 1260.4844,2179.5781 L1260.4844,2180.6719 Q1260.4844,2181.9063 1261.375,2182.7344 Q1262.2656,2183.5469 1263.8594,2183.5469 Q1264.7969,2183.5469 1265.4531,2183.2969 Q1265.8438,2183.1406 1266.2656,2182.7031 Q1266.5313,2182.4375 1266.6719,2182.3594 Q1266.8281,2182.2813 1267.0313,2182.2813 Q1267.3594,2182.2813 1267.6094,2182.5469 Q1267.875,2182.7969 1267.875,2183.1406 Q1267.875,2183.4844 1267.5313,2183.8906 Q1267.0313,2184.4688 1266.2344,2184.7969 Q1265.1563,2185.25 1263.8594,2185.25 Q1262.3438,2185.25 1261.1406,2184.625 Q1260.1563,2184.125 1259.4688,2183.0625 Q1258.7813,2181.9844 1258.7813,2180.7031 L1258.7813,2179.5469 Q1258.7813,2178.2188 1259.3906,2177.0781 Q1260.0156,2175.9219 1261.1094,2175.3125 Q1262.2031,2174.6875 1263.4375,2174.6875 Q1264.1719,2174.6875 1264.8125,2174.8594 Q1265.4688,2175.0156 1266.0156,2175.375 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="135" x="1283.75" y="2184.75">TowerSpawnLayer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1176" x2="1494" y1="2195.5" y2="2195.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1183" y="2203.5"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="1195" y="2210.6328">towerSequence : Tower[]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1176" x2="1494" y1="2217.4453" y2="2217.4453"/><ellipse cx="1186" cy="2228.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="154" x="1195" y="2232.5781">towerTargeted() : void</text><ellipse cx="1186" cy="2242.3906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="1195" y="2246.5234">addTouchListener() : void</text><ellipse cx="1186" cy="2256.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="1195" y="2260.4688">findingTargetForTower(cc.Point position,</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="203" x="1195" y="2274.4141">AttackMode attackMode) : void</text><ellipse cx="1186" cy="2284.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="259" x="1195" y="2288.3594">canUpdateTowerInIndex(cc.Point index,</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="1195" y="2302.3047">CardType cardType) : bool</text><ellipse cx="1186" cy="2312.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="252" x="1195" y="2316.25">updateTowerWithIndex(cc.Point index)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1176" x2="1494" y1="2323.0625" y2="2323.0625"/><polygon fill="none" points="1186,2329.0625,1190,2333.0625,1186,2337.0625,1182,2333.0625" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="238" x="1195" y="2338.1953">thực hiện hiển thị các trụ lên sân</text><polygon fill="none" points="1186,2343.0078,1190,2347.0078,1186,2351.0078,1182,2347.0078" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="1195" y="2352.1406">thực hiện cập nhât và xử lý hình ảnh của</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="49" x="1195" y="2366.0859">các trụ</text><polygon fill="none" points="1186,2370.8984,1190,2374.8984,1186,2378.8984,1182,2374.8984" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="273" x="1195" y="2380.0313">thực hiện giao tiếp với MonsterLayer để</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="1195" y="2393.9766">lấy được danh sách quái</text><polygon fill="#FFFF44" points="1186,2398.7891,1190,2402.7891,1186,2406.7891,1182,2402.7891" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="1195" y="2407.9219">thực hiện các cử chỉ với trụ (trong đó bao</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="1195" y="2421.8672">gồm cả nâng cấp và điều chỉnh chế độ chọn</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="1195" y="2435.8125">mục tiêu của trụ)</text><!--MD5=[1ab180c5c95bd639a8fc3883bab09bc6]
class TowerSprite--><rect codeLine="116" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="474.3594" id="TowerSprite" style="stroke:#A80036;stroke-width:1.5;" width="320" x="1555" y="2153"/><ellipse cx="1661.25" cy="2169" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1664.0156,2164.875 Q1664.1719,2164.6563 1664.3594,2164.5469 Q1664.5469,2164.4375 1664.7656,2164.4375 Q1665.1406,2164.4375 1665.375,2164.7031 Q1665.6094,2164.9531 1665.6094,2165.5625 L1665.6094,2167.0156 Q1665.6094,2167.625 1665.375,2167.8906 Q1665.1406,2168.1563 1664.7656,2168.1563 Q1664.4219,2168.1563 1664.2188,2167.9531 Q1664.0156,2167.7656 1663.9063,2167.25 Q1663.8594,2166.8906 1663.6719,2166.7031 Q1663.3438,2166.3281 1662.7344,2166.1094 Q1662.125,2165.8906 1661.5,2165.8906 Q1660.7344,2165.8906 1660.0938,2166.2188 Q1659.4688,2166.5469 1658.9688,2167.2969 Q1658.4844,2168.0469 1658.4844,2169.0781 L1658.4844,2170.1719 Q1658.4844,2171.4063 1659.375,2172.2344 Q1660.2656,2173.0469 1661.8594,2173.0469 Q1662.7969,2173.0469 1663.4531,2172.7969 Q1663.8438,2172.6406 1664.2656,2172.2031 Q1664.5313,2171.9375 1664.6719,2171.8594 Q1664.8281,2171.7813 1665.0313,2171.7813 Q1665.3594,2171.7813 1665.6094,2172.0469 Q1665.875,2172.2969 1665.875,2172.6406 Q1665.875,2172.9844 1665.5313,2173.3906 Q1665.0313,2173.9688 1664.2344,2174.2969 Q1663.1563,2174.75 1661.8594,2174.75 Q1660.3438,2174.75 1659.1406,2174.125 Q1658.1563,2173.625 1657.4688,2172.5625 Q1656.7813,2171.4844 1656.7813,2170.2031 L1656.7813,2169.0469 Q1656.7813,2167.7188 1657.3906,2166.5781 Q1658.0156,2165.4219 1659.1094,2164.8125 Q1660.2031,2164.1875 1661.4375,2164.1875 Q1662.1719,2164.1875 1662.8125,2164.3594 Q1663.4688,2164.5156 1664.0156,2164.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="99" x="1681.75" y="2174.25">TowerSprite</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1556" x2="1874" y1="2185" y2="2185"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="2193"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="112" x="1575" y="2200.1328">index : cc.Point</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="2206.9453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="56" x="1575" y="2214.0781">id : int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="2220.8906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="91" x="1575" y="2228.0234">range : float</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="2234.8359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="1575" y="2241.9688">level : int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="2248.7813"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="112" x="1575" y="2255.9141">canAttack : bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="2262.7266"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="182" x="1575" y="2269.8594">effectd : TowerEffecting[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="2276.6719"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="112" x="1575" y="2283.8047">type : TowerType</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1556" x2="1874" y1="2290.6172" y2="2290.6172"/><ellipse cx="1566" cy="2301.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="91" x="1575" y="2305.75">fire() : void</text><ellipse cx="1566" cy="2315.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="168" x="1575" y="2319.6953">createAnimation() : void</text><ellipse cx="1566" cy="2329.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="1575" y="2333.6406">changeTarget() : void</text><ellipse cx="1566" cy="2343.4531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="1575" y="2347.5859">updateSprite() : void</text><ellipse cx="1566" cy="2357.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="56" x="1575" y="2361.5313">update()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1556" x2="1874" y1="2368.3438" y2="2368.3438"/><polygon fill="none" points="1566,2374.3438,1570,2378.3438,1566,2382.3438,1562,2378.3438" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="1575" y="2383.4766">bắt được danh sách các loại quái hiên tại</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="140" x="1575" y="2397.4219">đang ở trong phạm vi</text><polygon fill="none" points="1566,2402.2344,1570,2406.2344,1566,2410.2344,1562,2406.2344" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="245" x="1575" y="2411.3672">năng lượng sử dụng để đặt khác nhau</text><polygon fill="none" points="1566,2416.1797,1570,2420.1797,1566,2424.1797,1562,2420.1797" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="210" x="1575" y="2425.3125">tháp có khả năng tiến hóa được</text><polygon fill="none" points="1566,2430.125,1570,2434.125,1566,2438.125,1562,2434.125" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="1575" y="2439.2578">hệ thống có nhiều các ưu tiên cho quái lựa</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="28" x="1575" y="2453.2031">chọn</text><polygon fill="none" points="1566,2458.0156,1570,2462.0156,1566,2466.0156,1562,2462.0156" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="1575" y="2467.1484">hệ thống đạn bắn - 2 loại</text><polygon fill="none" points="1566,2471.9609,1570,2475.9609,1566,2479.9609,1562,2475.9609" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="1575" y="2481.0938">7 loại trụ, mỗi loại trụ có các loại đạn</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="63" x="1575" y="2495.0391">khác nhau</text><polygon fill="none" points="1566,2499.8516,1570,2503.8516,1566,2507.8516,1562,2503.8516" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="273" x="1575" y="2508.9844">loại đạn có thể là tầm rộng hoặc là một</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="1575" y="2522.9297">mục tiêu duy nhất</text><polygon fill="none" points="1566,2527.7422,1570,2531.7422,1566,2535.7422,1562,2531.7422" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="273" x="1575" y="2536.875">có thể có trụ không bắn ra đạn - trụ hỗ</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="21" x="1575" y="2550.8203">trợ</text><polygon fill="none" points="1566,2555.6328,1570,2559.6328,1566,2563.6328,1562,2559.6328" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="1575" y="2564.7656">có thể hủy tháp đã chọn</text><polygon fill="none" points="1566,2569.5781,1570,2573.5781,1566,2577.5781,1562,2573.5781" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="266" x="1575" y="2578.7109">có thể có được danh sách quái hiện tại</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="203" x="1575" y="2592.6563">đang ở vị trí nào trên bản đồ</text><polygon fill="none" points="1566,2597.4688,1570,2601.4688,1566,2605.4688,1562,2601.4688" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="1575" y="2606.6016">có các phương thức thực hiện các các lựa</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="1575" y="2620.5469">chọn quái vật khác nhau</text><!--MD5=[a07b3fc0fcce09d3cd2b16582af2bb7e]
class SupportTower--><rect codeLine="144" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="75.8906" id="SupportTower" style="stroke:#A80036;stroke-width:1.5;" width="194" x="1998" y="2628"/><ellipse cx="2037.3" cy="2644" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2040.0656,2639.875 Q2040.2219,2639.6563 2040.4094,2639.5469 Q2040.5969,2639.4375 2040.8156,2639.4375 Q2041.1906,2639.4375 2041.425,2639.7031 Q2041.6594,2639.9531 2041.6594,2640.5625 L2041.6594,2642.0156 Q2041.6594,2642.625 2041.425,2642.8906 Q2041.1906,2643.1563 2040.8156,2643.1563 Q2040.4719,2643.1563 2040.2688,2642.9531 Q2040.0656,2642.7656 2039.9563,2642.25 Q2039.9094,2641.8906 2039.7219,2641.7031 Q2039.3938,2641.3281 2038.7844,2641.1094 Q2038.175,2640.8906 2037.55,2640.8906 Q2036.7844,2640.8906 2036.1438,2641.2188 Q2035.5188,2641.5469 2035.0188,2642.2969 Q2034.5344,2643.0469 2034.5344,2644.0781 L2034.5344,2645.1719 Q2034.5344,2646.4063 2035.425,2647.2344 Q2036.3156,2648.0469 2037.9094,2648.0469 Q2038.8469,2648.0469 2039.5031,2647.7969 Q2039.8938,2647.6406 2040.3156,2647.2031 Q2040.5813,2646.9375 2040.7219,2646.8594 Q2040.8781,2646.7813 2041.0813,2646.7813 Q2041.4094,2646.7813 2041.6594,2647.0469 Q2041.925,2647.2969 2041.925,2647.6406 Q2041.925,2647.9844 2041.5813,2648.3906 Q2041.0813,2648.9688 2040.2844,2649.2969 Q2039.2063,2649.75 2037.9094,2649.75 Q2036.3938,2649.75 2035.1906,2649.125 Q2034.2063,2648.625 2033.5188,2647.5625 Q2032.8313,2646.4844 2032.8313,2645.2031 L2032.8313,2644.0469 Q2032.8313,2642.7188 2033.4406,2641.5781 Q2034.0656,2640.4219 2035.1594,2639.8125 Q2036.2531,2639.1875 2037.4875,2639.1875 Q2038.2219,2639.1875 2038.8625,2639.3594 Q2039.5188,2639.5156 2040.0656,2639.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="108" x="2056.7" y="2649.25">SupportTower</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1999" x2="2191" y1="2660" y2="2660"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2006" y="2668"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="168" x="2018" y="2675.1328">target : Monster | Tower</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1999" x2="2191" y1="2681.9453" y2="2681.9453"/><ellipse cx="2009" cy="2692.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="91" x="2018" y="2697.0781">fire() : void</text><!--MD5=[a4319961ac80c157300a66129049774f]
class AttackTower--><rect codeLine="150" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="173.5078" id="AttackTower" style="stroke:#A80036;stroke-width:1.5;" width="313" x="1938.5" y="2419"/><ellipse cx="2041.25" cy="2435" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2044.0156,2430.875 Q2044.1719,2430.6563 2044.3594,2430.5469 Q2044.5469,2430.4375 2044.7656,2430.4375 Q2045.1406,2430.4375 2045.375,2430.7031 Q2045.6094,2430.9531 2045.6094,2431.5625 L2045.6094,2433.0156 Q2045.6094,2433.625 2045.375,2433.8906 Q2045.1406,2434.1563 2044.7656,2434.1563 Q2044.4219,2434.1563 2044.2188,2433.9531 Q2044.0156,2433.7656 2043.9063,2433.25 Q2043.8594,2432.8906 2043.6719,2432.7031 Q2043.3438,2432.3281 2042.7344,2432.1094 Q2042.125,2431.8906 2041.5,2431.8906 Q2040.7344,2431.8906 2040.0938,2432.2188 Q2039.4688,2432.5469 2038.9688,2433.2969 Q2038.4844,2434.0469 2038.4844,2435.0781 L2038.4844,2436.1719 Q2038.4844,2437.4063 2039.375,2438.2344 Q2040.2656,2439.0469 2041.8594,2439.0469 Q2042.7969,2439.0469 2043.4531,2438.7969 Q2043.8438,2438.6406 2044.2656,2438.2031 Q2044.5313,2437.9375 2044.6719,2437.8594 Q2044.8281,2437.7813 2045.0313,2437.7813 Q2045.3594,2437.7813 2045.6094,2438.0469 Q2045.875,2438.2969 2045.875,2438.6406 Q2045.875,2438.9844 2045.5313,2439.3906 Q2045.0313,2439.9688 2044.2344,2440.2969 Q2043.1563,2440.75 2041.8594,2440.75 Q2040.3438,2440.75 2039.1406,2440.125 Q2038.1563,2439.625 2037.4688,2438.5625 Q2036.7813,2437.4844 2036.7813,2436.2031 L2036.7813,2435.0469 Q2036.7813,2433.7188 2037.3906,2432.5781 Q2038.0156,2431.4219 2039.1094,2430.8125 Q2040.2031,2430.1875 2041.4375,2430.1875 Q2042.1719,2430.1875 2042.8125,2430.3594 Q2043.4688,2430.5156 2044.0156,2430.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="99" x="2061.75" y="2440.25">AttackTower</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1939.5" x2="2250.5" y1="2451" y2="2451"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1946.5" y="2459"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="1958.5" y="2466.1328">attackSpeed : float</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1946.5" y="2472.9453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="84" x="1958.5" y="2480.0781">dame : float</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1946.5" y="2486.8906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="1958.5" y="2494.0234">haveTarget : bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1946.5" y="2500.8359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="1958.5" y="2507.9688">bulletPool : BulletPool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1946.5" y="2514.7813"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="98" x="1958.5" y="2521.9141">targetId : int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1946.5" y="2528.7266"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="1958.5" y="2535.8594">attackMode : AttackMode</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1939.5" x2="2250.5" y1="2542.6719" y2="2542.6719"/><ellipse cx="1949.5" cy="2553.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="91" x="1958.5" y="2557.8047">fire() : void</text><ellipse cx="1949.5" cy="2567.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="1958.5" y="2571.75">canTargetOnThis(cc.Point position) : bool</text><ellipse cx="1949.5" cy="2581.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="1958.5" y="2585.6953">untarget() : void</text><!--MD5=[561599879546cf04aec062264f5ec9bf]
class BulletPool--><rect codeLine="163" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="173.5078" id="BulletPool" style="stroke:#A80036;stroke-width:1.5;" width="320" x="2315" y="2281"/><ellipse cx="2425.75" cy="2297" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2428.5156,2292.875 Q2428.6719,2292.6563 2428.8594,2292.5469 Q2429.0469,2292.4375 2429.2656,2292.4375 Q2429.6406,2292.4375 2429.875,2292.7031 Q2430.1094,2292.9531 2430.1094,2293.5625 L2430.1094,2295.0156 Q2430.1094,2295.625 2429.875,2295.8906 Q2429.6406,2296.1563 2429.2656,2296.1563 Q2428.9219,2296.1563 2428.7188,2295.9531 Q2428.5156,2295.7656 2428.4063,2295.25 Q2428.3594,2294.8906 2428.1719,2294.7031 Q2427.8438,2294.3281 2427.2344,2294.1094 Q2426.625,2293.8906 2426,2293.8906 Q2425.2344,2293.8906 2424.5938,2294.2188 Q2423.9688,2294.5469 2423.4688,2295.2969 Q2422.9844,2296.0469 2422.9844,2297.0781 L2422.9844,2298.1719 Q2422.9844,2299.4063 2423.875,2300.2344 Q2424.7656,2301.0469 2426.3594,2301.0469 Q2427.2969,2301.0469 2427.9531,2300.7969 Q2428.3438,2300.6406 2428.7656,2300.2031 Q2429.0313,2299.9375 2429.1719,2299.8594 Q2429.3281,2299.7813 2429.5313,2299.7813 Q2429.8594,2299.7813 2430.1094,2300.0469 Q2430.375,2300.2969 2430.375,2300.6406 Q2430.375,2300.9844 2430.0313,2301.3906 Q2429.5313,2301.9688 2428.7344,2302.2969 Q2427.6563,2302.75 2426.3594,2302.75 Q2424.8438,2302.75 2423.6406,2302.125 Q2422.6563,2301.625 2421.9688,2300.5625 Q2421.2813,2299.4844 2421.2813,2298.2031 L2421.2813,2297.0469 Q2421.2813,2295.7188 2421.8906,2294.5781 Q2422.5156,2293.4219 2423.6094,2292.8125 Q2424.7031,2292.1875 2425.9375,2292.1875 Q2426.6719,2292.1875 2427.3125,2292.3594 Q2427.9688,2292.5156 2428.5156,2292.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="90" x="2446.25" y="2302.25">BulletPool</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2316" x2="2634" y1="2313" y2="2313"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="2323" y="2321"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="189" x="2335" y="2328.1328">bulletPool : BulletSprite[]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="2316" x2="2634" y1="2334.9453" y2="2334.9453"/><ellipse cx="2326" cy="2345.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="252" x="2335" y="2350.0781">registerSpriteWithLayer(BulletSprite</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="140" x="2335" y="2364.0234">bulletSprite) : void</text><ellipse cx="2326" cy="2373.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="238" x="2335" y="2377.9688">getBullet(BulletType bulletType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="84" x="2335" y="2391.9141">BulletSprite</text><ellipse cx="2326" cy="2401.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="259" x="2335" y="2405.8594">createBullet(BulletType bulletType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="84" x="2335" y="2419.8047">BulletSprite</text><ellipse cx="2326" cy="2429.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="2335" y="2433.75">haveBulletInPool(BulletType bulletType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="84" x="2335" y="2447.6953">BulletSprite</text><!--MD5=[1e822f5400da1ff2975046037c653c96]
class BulletSprite--><rect codeLine="172" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="307.0156" id="BulletSprite" style="stroke:#A80036;stroke-width:1.5;" width="320" x="1935" y="2076.5"/><ellipse cx="2036.75" cy="2092.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2039.5156,2088.375 Q2039.6719,2088.1563 2039.8594,2088.0469 Q2040.0469,2087.9375 2040.2656,2087.9375 Q2040.6406,2087.9375 2040.875,2088.2031 Q2041.1094,2088.4531 2041.1094,2089.0625 L2041.1094,2090.5156 Q2041.1094,2091.125 2040.875,2091.3906 Q2040.6406,2091.6563 2040.2656,2091.6563 Q2039.9219,2091.6563 2039.7188,2091.4531 Q2039.5156,2091.2656 2039.4063,2090.75 Q2039.3594,2090.3906 2039.1719,2090.2031 Q2038.8438,2089.8281 2038.2344,2089.6094 Q2037.625,2089.3906 2037,2089.3906 Q2036.2344,2089.3906 2035.5938,2089.7188 Q2034.9688,2090.0469 2034.4688,2090.7969 Q2033.9844,2091.5469 2033.9844,2092.5781 L2033.9844,2093.6719 Q2033.9844,2094.9063 2034.875,2095.7344 Q2035.7656,2096.5469 2037.3594,2096.5469 Q2038.2969,2096.5469 2038.9531,2096.2969 Q2039.3438,2096.1406 2039.7656,2095.7031 Q2040.0313,2095.4375 2040.1719,2095.3594 Q2040.3281,2095.2813 2040.5313,2095.2813 Q2040.8594,2095.2813 2041.1094,2095.5469 Q2041.375,2095.7969 2041.375,2096.1406 Q2041.375,2096.4844 2041.0313,2096.8906 Q2040.5313,2097.4688 2039.7344,2097.7969 Q2038.6563,2098.25 2037.3594,2098.25 Q2035.8438,2098.25 2034.6406,2097.625 Q2033.6563,2097.125 2032.9688,2096.0625 Q2032.2813,2094.9844 2032.2813,2093.7031 L2032.2813,2092.5469 Q2032.2813,2091.2188 2032.8906,2090.0781 Q2033.5156,2088.9219 2034.6094,2088.3125 Q2035.7031,2087.6875 2036.9375,2087.6875 Q2037.6719,2087.6875 2038.3125,2087.8594 Q2038.9688,2088.0156 2039.5156,2088.375 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="108" x="2057.25" y="2097.75">BulletSprite</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1936" x2="2254" y1="2108.5" y2="2108.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="2116.5"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="91" x="1955" y="2123.6328">inUsed : bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="2130.4453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="1955" y="2137.5781">speed : int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="2144.3906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="1955" y="2151.5234">damage : double</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="2158.3359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="98" x="1955" y="2165.4688">range : double</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="2172.2813"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="168" x="1955" y="2179.4141">towerPosition : cc.Point</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="2186.2266"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="196" x="1955" y="2193.3594">type : Bullet.PosisionBase |</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="1955" y="2207.3047">Bullet.TargetBase</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1936" x2="2254" y1="2214.1172" y2="2214.1172"/><ellipse cx="1946" cy="2225.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="1955" y="2229.25">create() : BulletSprite</text><ellipse cx="1946" cy="2239.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="112" x="1955" y="2243.1953">animate() : void</text><ellipse cx="1946" cy="2253.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="168" x="1955" y="2257.1406">createAnimation() : void</text><ellipse cx="1946" cy="2266.9531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="126" x="1955" y="2271.0859">effecting() : void</text><ellipse cx="1946" cy="2280.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="119" x="1955" y="2285.0313">exploded() : void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1936" x2="2254" y1="2291.8438" y2="2291.8438"/><polygon fill="none" points="1946,2297.8438,1950,2301.8438,1946,2305.8438,1942,2301.8438" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="266" x="1955" y="2306.9766">mỗi tòa tháp sẽ có một loại đạn riêng,</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="154" x="1955" y="2320.9219">override lại effecting</text><polygon fill="none" points="1946,2325.7344,1950,2329.7344,1946,2333.7344,1942,2329.7344" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="1955" y="2334.8672">mỗi loại đạn sẽ có các hành vi khách nhau</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="231" x="1955" y="2348.8125">như là nổ lan, gây đống băng, ...</text><polygon fill="none" points="1946,2353.625,1950,2357.625,1946,2361.625,1942,2357.625" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="1955" y="2362.7578">đạn sẽ có các thuộc tính cơ bản như là tốc</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="1955" y="2376.7031">độ bay, chuỗi animation, và sức sát thương</text><!--MD5=[bd9e33e4c79bf1b5be6a030e18ffe3fd]
class MonsterPool--><rect codeLine="198" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="173.5078" id="MonsterPool" style="stroke:#A80036;stroke-width:1.5;" width="320" x="1175" y="970"/><ellipse cx="1281.25" cy="986" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1284.0156,981.875 Q1284.1719,981.6563 1284.3594,981.5469 Q1284.5469,981.4375 1284.7656,981.4375 Q1285.1406,981.4375 1285.375,981.7031 Q1285.6094,981.9531 1285.6094,982.5625 L1285.6094,984.0156 Q1285.6094,984.625 1285.375,984.8906 Q1285.1406,985.1563 1284.7656,985.1563 Q1284.4219,985.1563 1284.2188,984.9531 Q1284.0156,984.7656 1283.9063,984.25 Q1283.8594,983.8906 1283.6719,983.7031 Q1283.3438,983.3281 1282.7344,983.1094 Q1282.125,982.8906 1281.5,982.8906 Q1280.7344,982.8906 1280.0938,983.2188 Q1279.4688,983.5469 1278.9688,984.2969 Q1278.4844,985.0469 1278.4844,986.0781 L1278.4844,987.1719 Q1278.4844,988.4063 1279.375,989.2344 Q1280.2656,990.0469 1281.8594,990.0469 Q1282.7969,990.0469 1283.4531,989.7969 Q1283.8438,989.6406 1284.2656,989.2031 Q1284.5313,988.9375 1284.6719,988.8594 Q1284.8281,988.7813 1285.0313,988.7813 Q1285.3594,988.7813 1285.6094,989.0469 Q1285.875,989.2969 1285.875,989.6406 Q1285.875,989.9844 1285.5313,990.3906 Q1285.0313,990.9688 1284.2344,991.2969 Q1283.1563,991.75 1281.8594,991.75 Q1280.3438,991.75 1279.1406,991.125 Q1278.1563,990.625 1277.4688,989.5625 Q1276.7813,988.4844 1276.7813,987.2031 L1276.7813,986.0469 Q1276.7813,984.7188 1277.3906,983.5781 Q1278.0156,982.4219 1279.1094,981.8125 Q1280.2031,981.1875 1281.4375,981.1875 Q1282.1719,981.1875 1282.8125,981.3594 Q1283.4688,981.5156 1284.0156,981.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="99" x="1301.75" y="991.25">MonsterPool</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1176" x2="1494" y1="1002" y2="1002"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1183" y="1010"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="203" x="1195" y="1017.1328">monsterPool : MonsterSprite[]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1176" x2="1494" y1="1023.9453" y2="1023.9453"/><ellipse cx="1186" cy="1034.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="259" x="1195" y="1039.0781">registerSpriteWithLayer(MonsterSprite</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="1195" y="1053.0234">monsterSprite) : void</text><ellipse cx="1186" cy="1062.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="259" x="1195" y="1066.9688">getMonster(MonsterType monsterType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="91" x="1195" y="1080.9141">MonsterSprite</text><ellipse cx="1186" cy="1090.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="1195" y="1094.8594">createMonster(MonsterType monsterType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="91" x="1195" y="1108.8047">MonsterSprite</text><ellipse cx="1186" cy="1118.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="1195" y="1122.75">haveMonsterInPool(MonsterType monsterType)</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="1195" y="1136.6953">: MonsterSprite</text><!--MD5=[ed7db25484a5a82a9d731daa8b6e97a3]
class MonsterSpawnerLayer--><rect codeLine="207" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="293.0703" id="MonsterSpawnerLayer" style="stroke:#A80036;stroke-width:1.5;" width="320" x="795" y="910.5"/><ellipse cx="865.25" cy="926.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M868.0156,922.375 Q868.1719,922.1563 868.3594,922.0469 Q868.5469,921.9375 868.7656,921.9375 Q869.1406,921.9375 869.375,922.2031 Q869.6094,922.4531 869.6094,923.0625 L869.6094,924.5156 Q869.6094,925.125 869.375,925.3906 Q869.1406,925.6563 868.7656,925.6563 Q868.4219,925.6563 868.2188,925.4531 Q868.0156,925.2656 867.9063,924.75 Q867.8594,924.3906 867.6719,924.2031 Q867.3438,923.8281 866.7344,923.6094 Q866.125,923.3906 865.5,923.3906 Q864.7344,923.3906 864.0938,923.7188 Q863.4688,924.0469 862.9688,924.7969 Q862.4844,925.5469 862.4844,926.5781 L862.4844,927.6719 Q862.4844,928.9063 863.375,929.7344 Q864.2656,930.5469 865.8594,930.5469 Q866.7969,930.5469 867.4531,930.2969 Q867.8438,930.1406 868.2656,929.7031 Q868.5313,929.4375 868.6719,929.3594 Q868.8281,929.2813 869.0313,929.2813 Q869.3594,929.2813 869.6094,929.5469 Q869.875,929.7969 869.875,930.1406 Q869.875,930.4844 869.5313,930.8906 Q869.0313,931.4688 868.2344,931.7969 Q867.1563,932.25 865.8594,932.25 Q864.3438,932.25 863.1406,931.625 Q862.1563,931.125 861.4688,930.0625 Q860.7813,928.9844 860.7813,927.7031 L860.7813,926.5469 Q860.7813,925.2188 861.3906,924.0781 Q862.0156,922.9219 863.1094,922.3125 Q864.2031,921.6875 865.4375,921.6875 Q866.1719,921.6875 866.8125,921.8594 Q867.4688,922.0156 868.0156,922.375 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="171" x="885.75" y="931.75">MonsterSpawnerLayer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="796" x2="1114" y1="942.5" y2="942.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="803" y="950.5"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="815" y="957.6328">monsterPool : MonsterPool</text><line style="stroke:#A80036;stroke-width:1.0;" x1="796" x2="1114" y1="964.4453" y2="964.4453"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="803" y="972.4453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="224" x="815" y="979.5781">generateMonster(LevelDescription</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="168" x="815" y="993.5234">levelDescription) : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="803" y="1000.3359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="815" y="1007.4688">update() : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="803" y="1014.2813"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="182" x="815" y="1021.4141">collisionTracking() : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="803" y="1028.2266"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="273" x="815" y="1035.3594">spawnMonster(MonsterType monsterType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="28" x="815" y="1049.3047">void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="803" y="1056.1172"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="210" x="815" y="1063.25">untarget(int monsterId) : void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="796" x2="1114" y1="1070.0625" y2="1070.0625"/><ellipse cx="806" cy="1081.0625" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="259" x="815" y="1085.1953">thực hiện việc spawn và di chuyển các</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="49" x="815" y="1099.1406">monster</text><ellipse cx="806" cy="1108.9531" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="266" x="815" y="1113.0859">thực hiện việc quản lý monster sinh ra</text><ellipse cx="806" cy="1122.8984" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="815" y="1127.0313">có khả năng cập nhật ngay và luôn vị trí</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="815" y="1140.9766">của một monster nào đấy</text><ellipse cx="806" cy="1150.7891" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="245" x="815" y="1154.9219">kiểm soát hướng đi của các con quái</text><ellipse cx="806" cy="1164.7344" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="815" y="1168.8672">kiểm soát va chạm giữa các con quái, kiểm</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="196" x="815" y="1182.8125">soát tốc độ của các con quái</text><ellipse cx="806" cy="1192.625" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="238" x="815" y="1196.7578">thực hiện tái sử dụng các con quái</text><!--MD5=[d2c4278637bdc93ab6ebd71329cfa63c]
class Monster--><rect codeLine="224" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="566.0313" id="Monster" style="stroke:#A80036;stroke-width:1.5;" width="320" x="1935" y="1199"/><ellipse cx="2059.25" cy="1215" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2062.0156,1210.875 Q2062.1719,1210.6563 2062.3594,1210.5469 Q2062.5469,1210.4375 2062.7656,1210.4375 Q2063.1406,1210.4375 2063.375,1210.7031 Q2063.6094,1210.9531 2063.6094,1211.5625 L2063.6094,1213.0156 Q2063.6094,1213.625 2063.375,1213.8906 Q2063.1406,1214.1563 2062.7656,1214.1563 Q2062.4219,1214.1563 2062.2188,1213.9531 Q2062.0156,1213.7656 2061.9063,1213.25 Q2061.8594,1212.8906 2061.6719,1212.7031 Q2061.3438,1212.3281 2060.7344,1212.1094 Q2060.125,1211.8906 2059.5,1211.8906 Q2058.7344,1211.8906 2058.0938,1212.2188 Q2057.4688,1212.5469 2056.9688,1213.2969 Q2056.4844,1214.0469 2056.4844,1215.0781 L2056.4844,1216.1719 Q2056.4844,1217.4063 2057.375,1218.2344 Q2058.2656,1219.0469 2059.8594,1219.0469 Q2060.7969,1219.0469 2061.4531,1218.7969 Q2061.8438,1218.6406 2062.2656,1218.2031 Q2062.5313,1217.9375 2062.6719,1217.8594 Q2062.8281,1217.7813 2063.0313,1217.7813 Q2063.3594,1217.7813 2063.6094,1218.0469 Q2063.875,1218.2969 2063.875,1218.6406 Q2063.875,1218.9844 2063.5313,1219.3906 Q2063.0313,1219.9688 2062.2344,1220.2969 Q2061.1563,1220.75 2059.8594,1220.75 Q2058.3438,1220.75 2057.1406,1220.125 Q2056.1563,1219.625 2055.4688,1218.5625 Q2054.7813,1217.4844 2054.7813,1216.2031 L2054.7813,1215.0469 Q2054.7813,1213.7188 2055.3906,1212.5781 Q2056.0156,1211.4219 2057.1094,1210.8125 Q2058.2031,1210.1875 2059.4375,1210.1875 Q2060.1719,1210.1875 2060.8125,1210.3594 Q2061.4688,1210.5156 2062.0156,1210.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="63" x="2079.75" y="1220.25">Monster</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1936" x2="2254" y1="1231" y2="1231"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="1239"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="56" x="1955" y="1246.1328">id : int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="1252.9453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="1955" y="1260.0781">health : double</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="1266.8906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="1955" y="1274.0234">damage : double</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="1280.8359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="98" x="1955" y="1287.9688">speed : double</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="1294.7813"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="1955" y="1301.9141">weight : double</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="1308.7266"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="182" x="1955" y="1315.8594">directionVector : cc.Point</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="1322.6719"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="84" x="1955" y="1329.8047">inUse : bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="1336.6172"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="112" x="1955" y="1343.75">canTagetd : bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1943" y="1350.5625"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="1955" y="1357.6953">effectd : MonsterEffect[]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1936" x2="2254" y1="1364.5078" y2="1364.5078"/><ellipse cx="1946" cy="1375.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="1955" y="1379.6406">update() : void</text><ellipse cx="1946" cy="1389.4531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="1955" y="1393.5859">resetState() : void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1936" x2="2254" y1="1400.3984" y2="1400.3984"/><polygon fill="none" points="1946,1406.3984,1950,1410.3984,1946,1414.3984,1942,1410.3984" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="217" x="1955" y="1415.5313">tạo animation theo các hướng đi</text><polygon fill="none" points="1946,1420.3438,1950,1424.3438,1946,1428.3438,1942,1424.3438" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="238" x="1955" y="1429.4766">thực hiện di chuyển theo vector mà</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="238" x="1955" y="1443.4219">MonsterManager đưa ra cho con quái</text><polygon fill="none" points="1946,1448.2344,1950,1452.2344,1946,1456.2344,1942,1452.2344" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="1955" y="1457.3672">có thể thực hiện đẩy các con quái đi chậm</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="21" x="1955" y="1471.3125">hơn</text><polygon fill="none" points="1946,1476.125,1950,1480.125,1946,1484.125,1942,1480.125" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="1955" y="1485.2578">khi tới địa điểm đích tự chuyển trạng thái</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="35" x="1955" y="1499.2031">inUse</text><polygon fill="none" points="1946,1504.0156,1950,1508.0156,1946,1512.0156,1942,1508.0156" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="1955" y="1513.1484">nhận cac effect và tự biết kết thúc effect</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="56" x="1955" y="1527.0938">đúng lúc</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1936" x2="2254" y1="1533.9063" y2="1533.9063"/><polygon fill="none" points="1946,1539.9063,1950,1543.9063,1946,1547.9063,1942,1543.9063" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="252" x="1955" y="1549.0391">các con quái có thể va chạm với nhau</text><polygon fill="none" points="1946,1553.8516,1950,1557.8516,1946,1561.8516,1942,1557.8516" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="1955" y="1562.9844">một loại quái có thể có nhiều con, những</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="1955" y="1576.9297">con này đều có chung tài nguyên về sprite</text><polygon fill="none" points="1946,1581.7422,1950,1585.7422,1946,1589.7422,1942,1585.7422" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="126" x="1955" y="1590.875">có tới 5 loại quái</text><polygon fill="none" points="1946,1595.6875,1950,1599.6875,1946,1603.6875,1942,1599.6875" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="273" x="1955" y="1604.8203">các chỉ số sinh lực, sức sát thương, có</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="1955" y="1618.7656">thể chọn làm mục tiêu không, số lượng năng</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="1955" y="1632.7109">lượng riêng</text><polygon fill="none" points="1946,1637.5234,1950,1641.5234,1946,1645.5234,1942,1641.5234" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="84" x="1955" y="1646.6563">có thanh máu</text><polygon fill="none" points="1946,1651.4688,1950,1655.4688,1946,1659.4688,1942,1655.4688" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="231" x="1955" y="1660.6016">có quái có những bước đi đặc biệt</text><polygon fill="none" points="1946,1665.4141,1950,1669.4141,1946,1673.4141,1942,1669.4141" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="1955" y="1674.5469">quái được đối phương thả sẽ có vòng tròn</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="1955" y="1688.4922">màu đỏ dưới chân, quái mình thả sẽ có màu</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="98" x="1955" y="1702.4375">xanh dưới chân</text><polygon fill="none" points="1946,1707.25,1950,1711.25,1946,1715.25,1942,1711.25" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="1955" y="1716.3828">quái có thể tự tương tác với chính nó để</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="252" x="1955" y="1730.3281">thực hiện các skill liên quan tới di</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="42" x="1955" y="1744.2734">chuyển</text><polygon fill="none" points="1946,1749.0859,1950,1753.0859,1946,1757.0859,1942,1753.0859" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="266" x="1955" y="1758.2188">quái cũng có thể tương tác với các trụ</text><!--MD5=[57f47ee91b49d4e59aa1ff568f446d9e]
class MonsterSprite--><rect codeLine="255" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="195.4531" id="MonsterSprite" style="stroke:#A80036;stroke-width:1.5;" width="320" x="1555" y="959.5"/><ellipse cx="1652.25" cy="975.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1655.0156,971.375 Q1655.1719,971.1563 1655.3594,971.0469 Q1655.5469,970.9375 1655.7656,970.9375 Q1656.1406,970.9375 1656.375,971.2031 Q1656.6094,971.4531 1656.6094,972.0625 L1656.6094,973.5156 Q1656.6094,974.125 1656.375,974.3906 Q1656.1406,974.6563 1655.7656,974.6563 Q1655.4219,974.6563 1655.2188,974.4531 Q1655.0156,974.2656 1654.9063,973.75 Q1654.8594,973.3906 1654.6719,973.2031 Q1654.3438,972.8281 1653.7344,972.6094 Q1653.125,972.3906 1652.5,972.3906 Q1651.7344,972.3906 1651.0938,972.7188 Q1650.4688,973.0469 1649.9688,973.7969 Q1649.4844,974.5469 1649.4844,975.5781 L1649.4844,976.6719 Q1649.4844,977.9063 1650.375,978.7344 Q1651.2656,979.5469 1652.8594,979.5469 Q1653.7969,979.5469 1654.4531,979.2969 Q1654.8438,979.1406 1655.2656,978.7031 Q1655.5313,978.4375 1655.6719,978.3594 Q1655.8281,978.2813 1656.0313,978.2813 Q1656.3594,978.2813 1656.6094,978.5469 Q1656.875,978.7969 1656.875,979.1406 Q1656.875,979.4844 1656.5313,979.8906 Q1656.0313,980.4688 1655.2344,980.7969 Q1654.1563,981.25 1652.8594,981.25 Q1651.3438,981.25 1650.1406,980.625 Q1649.1563,980.125 1648.4688,979.0625 Q1647.7813,977.9844 1647.7813,976.7031 L1647.7813,975.5469 Q1647.7813,974.2188 1648.3906,973.0781 Q1649.0156,971.9219 1650.1094,971.3125 Q1651.2031,970.6875 1652.4375,970.6875 Q1653.1719,970.6875 1653.8125,970.8594 Q1654.4688,971.0156 1655.0156,971.375 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="117" x="1672.75" y="980.75">MonsterSprite</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1556" x2="1874" y1="991.5" y2="991.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="999.5"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="189" x="1575" y="1006.6328">monsterAsset : MonsterAsset</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="1013.4453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="189" x="1575" y="1020.5781">monsterDirection : cc.Point</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1563" y="1027.3906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="1575" y="1034.5234">canTageted : bool</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1556" x2="1874" y1="1041.3359" y2="1041.3359"/><ellipse cx="1566" cy="1052.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="1575" y="1056.4688">moving() : void</text><ellipse cx="1566" cy="1066.2813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="224" x="1575" y="1070.4141">createAnimationWithDirection() :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="70" x="1575" y="1084.3594">cc.Animate</text><ellipse cx="1566" cy="1094.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="1575" y="1098.3047">updateDirection(cc.Point newDirection) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="28" x="1575" y="1112.25">void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1556" x2="1874" y1="1119.0625" y2="1119.0625"/><polygon fill="none" points="1566,1125.0625,1570,1129.0625,1566,1133.0625,1562,1129.0625" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="294" x="1575" y="1134.1953">thực hiện khởi tọa animation và tạo ra các</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="182" x="1575" y="1148.1406">di chuyển cho các con quái</text><!--MD5=[501e4f2d3578be0c901474e60d274be7]
class Quạ Xương--><rect codeLine="267" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="48" id="Quạ Xương" style="stroke:#A80036;stroke-width:1.5;" width="113" x="2038.5" y="1116"/><ellipse cx="2053.5" cy="1132" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2056.2656,1127.875 Q2056.4219,1127.6563 2056.6094,1127.5469 Q2056.7969,1127.4375 2057.0156,1127.4375 Q2057.3906,1127.4375 2057.625,1127.7031 Q2057.8594,1127.9531 2057.8594,1128.5625 L2057.8594,1130.0156 Q2057.8594,1130.625 2057.625,1130.8906 Q2057.3906,1131.1563 2057.0156,1131.1563 Q2056.6719,1131.1563 2056.4688,1130.9531 Q2056.2656,1130.7656 2056.1563,1130.25 Q2056.1094,1129.8906 2055.9219,1129.7031 Q2055.5938,1129.3281 2054.9844,1129.1094 Q2054.375,1128.8906 2053.75,1128.8906 Q2052.9844,1128.8906 2052.3438,1129.2188 Q2051.7188,1129.5469 2051.2188,1130.2969 Q2050.7344,1131.0469 2050.7344,1132.0781 L2050.7344,1133.1719 Q2050.7344,1134.4063 2051.625,1135.2344 Q2052.5156,1136.0469 2054.1094,1136.0469 Q2055.0469,1136.0469 2055.7031,1135.7969 Q2056.0938,1135.6406 2056.5156,1135.2031 Q2056.7813,1134.9375 2056.9219,1134.8594 Q2057.0781,1134.7813 2057.2813,1134.7813 Q2057.6094,1134.7813 2057.8594,1135.0469 Q2058.125,1135.2969 2058.125,1135.6406 Q2058.125,1135.9844 2057.7813,1136.3906 Q2057.2813,1136.9688 2056.4844,1137.2969 Q2055.4063,1137.75 2054.1094,1137.75 Q2052.5938,1137.75 2051.3906,1137.125 Q2050.4063,1136.625 2049.7188,1135.5625 Q2049.0313,1134.4844 2049.0313,1133.2031 L2049.0313,1132.0469 Q2049.0313,1130.7188 2049.6406,1129.5781 Q2050.2656,1128.4219 2051.3594,1127.8125 Q2052.4531,1127.1875 2053.6875,1127.1875 Q2054.4219,1127.1875 2055.0625,1127.3594 Q2055.7188,1127.5156 2056.2656,1127.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="81" x="2067.5" y="1137.25">Quạ Xương</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2039.5" x2="2150.5" y1="1148" y2="1148"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2039.5" x2="2150.5" y1="1156" y2="1156"/><!--MD5=[8760e20a60769fb39d1e249fdf19e641]
class Khổng Lồ--><rect codeLine="268" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="48" id="Khổng Lồ" style="stroke:#A80036;stroke-width:1.5;" width="104" x="2043" y="1033"/><ellipse cx="2058" cy="1049" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2060.7656,1044.875 Q2060.9219,1044.6563 2061.1094,1044.5469 Q2061.2969,1044.4375 2061.5156,1044.4375 Q2061.8906,1044.4375 2062.125,1044.7031 Q2062.3594,1044.9531 2062.3594,1045.5625 L2062.3594,1047.0156 Q2062.3594,1047.625 2062.125,1047.8906 Q2061.8906,1048.1563 2061.5156,1048.1563 Q2061.1719,1048.1563 2060.9688,1047.9531 Q2060.7656,1047.7656 2060.6563,1047.25 Q2060.6094,1046.8906 2060.4219,1046.7031 Q2060.0938,1046.3281 2059.4844,1046.1094 Q2058.875,1045.8906 2058.25,1045.8906 Q2057.4844,1045.8906 2056.8438,1046.2188 Q2056.2188,1046.5469 2055.7188,1047.2969 Q2055.2344,1048.0469 2055.2344,1049.0781 L2055.2344,1050.1719 Q2055.2344,1051.4063 2056.125,1052.2344 Q2057.0156,1053.0469 2058.6094,1053.0469 Q2059.5469,1053.0469 2060.2031,1052.7969 Q2060.5938,1052.6406 2061.0156,1052.2031 Q2061.2813,1051.9375 2061.4219,1051.8594 Q2061.5781,1051.7813 2061.7813,1051.7813 Q2062.1094,1051.7813 2062.3594,1052.0469 Q2062.625,1052.2969 2062.625,1052.6406 Q2062.625,1052.9844 2062.2813,1053.3906 Q2061.7813,1053.9688 2060.9844,1054.2969 Q2059.9063,1054.75 2058.6094,1054.75 Q2057.0938,1054.75 2055.8906,1054.125 Q2054.9063,1053.625 2054.2188,1052.5625 Q2053.5313,1051.4844 2053.5313,1050.2031 L2053.5313,1049.0469 Q2053.5313,1047.7188 2054.1406,1046.5781 Q2054.7656,1045.4219 2055.8594,1044.8125 Q2056.9531,1044.1875 2058.1875,1044.1875 Q2058.9219,1044.1875 2059.5625,1044.3594 Q2060.2188,1044.5156 2060.7656,1044.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="72" x="2072" y="1054.25">Khổng Lồ</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2044" x2="2146" y1="1065" y2="1065"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2044" x2="2146" y1="1073" y2="1073"/><!--MD5=[c9bc67fa319f18aa22e1412fb7cca221]
class Kiếm Ma--><rect codeLine="269" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="48" id="Kiếm Ma" style="stroke:#A80036;stroke-width:1.5;" width="95" x="2047.5" y="950"/><ellipse cx="2062.5" cy="966" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2065.2656,961.875 Q2065.4219,961.6563 2065.6094,961.5469 Q2065.7969,961.4375 2066.0156,961.4375 Q2066.3906,961.4375 2066.625,961.7031 Q2066.8594,961.9531 2066.8594,962.5625 L2066.8594,964.0156 Q2066.8594,964.625 2066.625,964.8906 Q2066.3906,965.1563 2066.0156,965.1563 Q2065.6719,965.1563 2065.4688,964.9531 Q2065.2656,964.7656 2065.1563,964.25 Q2065.1094,963.8906 2064.9219,963.7031 Q2064.5938,963.3281 2063.9844,963.1094 Q2063.375,962.8906 2062.75,962.8906 Q2061.9844,962.8906 2061.3438,963.2188 Q2060.7188,963.5469 2060.2188,964.2969 Q2059.7344,965.0469 2059.7344,966.0781 L2059.7344,967.1719 Q2059.7344,968.4063 2060.625,969.2344 Q2061.5156,970.0469 2063.1094,970.0469 Q2064.0469,970.0469 2064.7031,969.7969 Q2065.0938,969.6406 2065.5156,969.2031 Q2065.7813,968.9375 2065.9219,968.8594 Q2066.0781,968.7813 2066.2813,968.7813 Q2066.6094,968.7813 2066.8594,969.0469 Q2067.125,969.2969 2067.125,969.6406 Q2067.125,969.9844 2066.7813,970.3906 Q2066.2813,970.9688 2065.4844,971.2969 Q2064.4063,971.75 2063.1094,971.75 Q2061.5938,971.75 2060.3906,971.125 Q2059.4063,970.625 2058.7188,969.5625 Q2058.0313,968.4844 2058.0313,967.2031 L2058.0313,966.0469 Q2058.0313,964.7188 2058.6406,963.5781 Q2059.2656,962.4219 2060.3594,961.8125 Q2061.4531,961.1875 2062.6875,961.1875 Q2063.4219,961.1875 2064.0625,961.3594 Q2064.7188,961.5156 2065.2656,961.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="63" x="2076.5" y="971.25">Kiếm Ma</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2048.5" x2="2141.5" y1="982" y2="982"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2048.5" x2="2141.5" y1="990" y2="990"/><!--MD5=[529c9361311d6bec28cdc81a7de6e532]
class Dơi Quỷ--><rect codeLine="270" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="48" id="Dơi Quỷ" style="stroke:#A80036;stroke-width:1.5;" width="95" x="2047.5" y="867"/><ellipse cx="2062.5" cy="883" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2065.2656,878.875 Q2065.4219,878.6563 2065.6094,878.5469 Q2065.7969,878.4375 2066.0156,878.4375 Q2066.3906,878.4375 2066.625,878.7031 Q2066.8594,878.9531 2066.8594,879.5625 L2066.8594,881.0156 Q2066.8594,881.625 2066.625,881.8906 Q2066.3906,882.1563 2066.0156,882.1563 Q2065.6719,882.1563 2065.4688,881.9531 Q2065.2656,881.7656 2065.1563,881.25 Q2065.1094,880.8906 2064.9219,880.7031 Q2064.5938,880.3281 2063.9844,880.1094 Q2063.375,879.8906 2062.75,879.8906 Q2061.9844,879.8906 2061.3438,880.2188 Q2060.7188,880.5469 2060.2188,881.2969 Q2059.7344,882.0469 2059.7344,883.0781 L2059.7344,884.1719 Q2059.7344,885.4063 2060.625,886.2344 Q2061.5156,887.0469 2063.1094,887.0469 Q2064.0469,887.0469 2064.7031,886.7969 Q2065.0938,886.6406 2065.5156,886.2031 Q2065.7813,885.9375 2065.9219,885.8594 Q2066.0781,885.7813 2066.2813,885.7813 Q2066.6094,885.7813 2066.8594,886.0469 Q2067.125,886.2969 2067.125,886.6406 Q2067.125,886.9844 2066.7813,887.3906 Q2066.2813,887.9688 2065.4844,888.2969 Q2064.4063,888.75 2063.1094,888.75 Q2061.5938,888.75 2060.3906,888.125 Q2059.4063,887.625 2058.7188,886.5625 Q2058.0313,885.4844 2058.0313,884.2031 L2058.0313,883.0469 Q2058.0313,881.7188 2058.6406,880.5781 Q2059.2656,879.4219 2060.3594,878.8125 Q2061.4531,878.1875 2062.6875,878.1875 Q2063.4219,878.1875 2064.0625,878.3594 Q2064.7188,878.5156 2065.2656,878.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="63" x="2076.5" y="888.25">Dơi Quỷ</text><line style="stroke:#A80036;stroke-width:1.5;" x1="2048.5" x2="2141.5" y1="899" y2="899"/><line style="stroke:#A80036;stroke-width:1.5;" x1="2048.5" x2="2141.5" y1="907" y2="907"/><!--MD5=[e83b77593bbb2f0120ef8ea875d28111]
class Xương Độn Thổ--><rect codeLine="271" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="61.9453" id="Xương Độn Thổ" style="stroke:#A80036;stroke-width:1.5;" width="236" x="1977" y="770"/><ellipse cx="2032.25" cy="786" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M2035.0156,781.875 Q2035.1719,781.6563 2035.3594,781.5469 Q2035.5469,781.4375 2035.7656,781.4375 Q2036.1406,781.4375 2036.375,781.7031 Q2036.6094,781.9531 2036.6094,782.5625 L2036.6094,784.0156 Q2036.6094,784.625 2036.375,784.8906 Q2036.1406,785.1563 2035.7656,785.1563 Q2035.4219,785.1563 2035.2188,784.9531 Q2035.0156,784.7656 2034.9063,784.25 Q2034.8594,783.8906 2034.6719,783.7031 Q2034.3438,783.3281 2033.7344,783.1094 Q2033.125,782.8906 2032.5,782.8906 Q2031.7344,782.8906 2031.0938,783.2188 Q2030.4688,783.5469 2029.9688,784.2969 Q2029.4844,785.0469 2029.4844,786.0781 L2029.4844,787.1719 Q2029.4844,788.4063 2030.375,789.2344 Q2031.2656,790.0469 2032.8594,790.0469 Q2033.7969,790.0469 2034.4531,789.7969 Q2034.8438,789.6406 2035.2656,789.2031 Q2035.5313,788.9375 2035.6719,788.8594 Q2035.8281,788.7813 2036.0313,788.7813 Q2036.3594,788.7813 2036.6094,789.0469 Q2036.875,789.2969 2036.875,789.6406 Q2036.875,789.9844 2036.5313,790.3906 Q2036.0313,790.9688 2035.2344,791.2969 Q2034.1563,791.75 2032.8594,791.75 Q2031.3438,791.75 2030.1406,791.125 Q2029.1563,790.625 2028.4688,789.5625 Q2027.7813,788.4844 2027.7813,787.2031 L2027.7813,786.0469 Q2027.7813,784.7188 2028.3906,783.5781 Q2029.0156,782.4219 2030.1094,781.8125 Q2031.2031,781.1875 2032.4375,781.1875 Q2033.1719,781.1875 2033.8125,781.3594 Q2034.4688,781.5156 2035.0156,781.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="117" x="2052.75" y="791.25">Xương Độn Thổ</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1978" x2="2212" y1="802" y2="802"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1978" x2="2212" y1="810" y2="810"/><ellipse cx="1988" cy="821" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="210" x="1997" y="825.1328">createGroundAnimation() : void</text><!--MD5=[b0035289a872578d268285bc4360d8d5]
class SpellPool--><rect codeLine="282" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="173.5078" id="SpellPool" style="stroke:#A80036;stroke-width:1.5;" width="299" x="805.5" y="2780"/><ellipse cx="910.25" cy="2796" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M913.0156,2791.875 Q913.1719,2791.6563 913.3594,2791.5469 Q913.5469,2791.4375 913.7656,2791.4375 Q914.1406,2791.4375 914.375,2791.7031 Q914.6094,2791.9531 914.6094,2792.5625 L914.6094,2794.0156 Q914.6094,2794.625 914.375,2794.8906 Q914.1406,2795.1563 913.7656,2795.1563 Q913.4219,2795.1563 913.2188,2794.9531 Q913.0156,2794.7656 912.9063,2794.25 Q912.8594,2793.8906 912.6719,2793.7031 Q912.3438,2793.3281 911.7344,2793.1094 Q911.125,2792.8906 910.5,2792.8906 Q909.7344,2792.8906 909.0938,2793.2188 Q908.4688,2793.5469 907.9688,2794.2969 Q907.4844,2795.0469 907.4844,2796.0781 L907.4844,2797.1719 Q907.4844,2798.4063 908.375,2799.2344 Q909.2656,2800.0469 910.8594,2800.0469 Q911.7969,2800.0469 912.4531,2799.7969 Q912.8438,2799.6406 913.2656,2799.2031 Q913.5313,2798.9375 913.6719,2798.8594 Q913.8281,2798.7813 914.0313,2798.7813 Q914.3594,2798.7813 914.6094,2799.0469 Q914.875,2799.2969 914.875,2799.6406 Q914.875,2799.9844 914.5313,2800.3906 Q914.0313,2800.9688 913.2344,2801.2969 Q912.1563,2801.75 910.8594,2801.75 Q909.3438,2801.75 908.1406,2801.125 Q907.1563,2800.625 906.4688,2799.5625 Q905.7813,2798.4844 905.7813,2797.2031 L905.7813,2796.0469 Q905.7813,2794.7188 906.3906,2793.5781 Q907.0156,2792.4219 908.1094,2791.8125 Q909.2031,2791.1875 910.4375,2791.1875 Q911.1719,2791.1875 911.8125,2791.3594 Q912.4688,2791.5156 913.0156,2791.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="81" x="930.75" y="2801.25">SpellPool</text><line style="stroke:#A80036;stroke-width:1.5;" x1="806.5" x2="1103.5" y1="2812" y2="2812"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813.5" y="2820"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="825.5" y="2827.1328">spellPool : SpellSprite[]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="806.5" x2="1103.5" y1="2833.9453" y2="2833.9453"/><ellipse cx="816.5" cy="2844.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="245" x="825.5" y="2849.0781">registerSpriteWithLayer(SpellSprite</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="825.5" y="2863.0234">spellSprite) : void</text><ellipse cx="816.5" cy="2872.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="217" x="825.5" y="2876.9688">getSpell(SpellType spellType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="825.5" y="2890.9141">SpellSprite</text><ellipse cx="816.5" cy="2900.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="238" x="825.5" y="2904.8594">createSpell(SpellType spellType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="825.5" y="2918.8047">SpellSprite</text><ellipse cx="816.5" cy="2928.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="266" x="825.5" y="2932.75">haveSpellInPool(SpellType spellType) :</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="825.5" y="2946.6953">SpellSprite</text><!--MD5=[42c831d2c2bf9f2fb0b55a8375be8d04]
class SpellSprite--><rect codeLine="291" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="187.4531" id="SpellSprite" style="stroke:#A80036;stroke-width:1.5;" width="187" x="861.5" y="2989.5"/><ellipse cx="901.7" cy="3005.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M904.4656,3001.375 Q904.6219,3001.1563 904.8094,3001.0469 Q904.9969,3000.9375 905.2156,3000.9375 Q905.5906,3000.9375 905.825,3001.2031 Q906.0594,3001.4531 906.0594,3002.0625 L906.0594,3003.5156 Q906.0594,3004.125 905.825,3004.3906 Q905.5906,3004.6563 905.2156,3004.6563 Q904.8719,3004.6563 904.6688,3004.4531 Q904.4656,3004.2656 904.3563,3003.75 Q904.3094,3003.3906 904.1219,3003.2031 Q903.7938,3002.8281 903.1844,3002.6094 Q902.575,3002.3906 901.95,3002.3906 Q901.1844,3002.3906 900.5438,3002.7188 Q899.9188,3003.0469 899.4188,3003.7969 Q898.9344,3004.5469 898.9344,3005.5781 L898.9344,3006.6719 Q898.9344,3007.9063 899.825,3008.7344 Q900.7156,3009.5469 902.3094,3009.5469 Q903.2469,3009.5469 903.9031,3009.2969 Q904.2938,3009.1406 904.7156,3008.7031 Q904.9813,3008.4375 905.1219,3008.3594 Q905.2781,3008.2813 905.4813,3008.2813 Q905.8094,3008.2813 906.0594,3008.5469 Q906.325,3008.7969 906.325,3009.1406 Q906.325,3009.4844 905.9813,3009.8906 Q905.4813,3010.4688 904.6844,3010.7969 Q903.6063,3011.25 902.3094,3011.25 Q900.7938,3011.25 899.5906,3010.625 Q898.6063,3010.125 897.9188,3009.0625 Q897.2313,3007.9844 897.2313,3006.7031 L897.2313,3005.5469 Q897.2313,3004.2188 897.8406,3003.0781 Q898.4656,3001.9219 899.5594,3001.3125 Q900.6531,3000.6875 901.8875,3000.6875 Q902.6219,3000.6875 903.2625,3000.8594 Q903.9188,3001.0156 904.4656,3001.375 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="99" x="921.3" y="3010.75">SpellSprite</text><line style="stroke:#A80036;stroke-width:1.5;" x1="862.5" x2="1047.5" y1="3021.5" y2="3021.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="869.5" y="3029.5"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="56" x="881.5" y="3036.6328">id : int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="869.5" y="3043.4453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="84" x="881.5" y="3050.5781">inUse : bool</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="869.5" y="3057.3906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="881.5" y="3064.5234">spellAsset : SpellAsset</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="869.5" y="3071.3359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="881.5" y="3078.4688">targetsId : int[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="869.5" y="3085.2813"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="881.5" y="3092.4141">timeEffect : double</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="869.5" y="3099.2266"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="881.5" y="3106.3594">statingTime : int</text><line style="stroke:#A80036;stroke-width:1.0;" x1="862.5" x2="1047.5" y1="3113.1719" y2="3113.1719"/><ellipse cx="872.5" cy="3124.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="119" x="881.5" y="3128.3047">createAnimation()</text><ellipse cx="872.5" cy="3138.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="881.5" y="3142.25">effecting()</text><ellipse cx="872.5" cy="3152.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="881.5" y="3156.1953">endEffect()</text><ellipse cx="872.5" cy="3166.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="56" x="881.5" y="3170.1406">update()</text><!--MD5=[85e15093a4d8f8068dbfe960e190fcff]
class SpellSpawnLayer--><rect codeLine="305" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="159.5625" id="SpellSpawnLayer" style="stroke:#A80036;stroke-width:1.5;" width="299" x="805.5" y="3212"/><ellipse cx="883.25" cy="3228" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M886.0156,3223.875 Q886.1719,3223.6563 886.3594,3223.5469 Q886.5469,3223.4375 886.7656,3223.4375 Q887.1406,3223.4375 887.375,3223.7031 Q887.6094,3223.9531 887.6094,3224.5625 L887.6094,3226.0156 Q887.6094,3226.625 887.375,3226.8906 Q887.1406,3227.1563 886.7656,3227.1563 Q886.4219,3227.1563 886.2188,3226.9531 Q886.0156,3226.7656 885.9063,3226.25 Q885.8594,3225.8906 885.6719,3225.7031 Q885.3438,3225.3281 884.7344,3225.1094 Q884.125,3224.8906 883.5,3224.8906 Q882.7344,3224.8906 882.0938,3225.2188 Q881.4688,3225.5469 880.9688,3226.2969 Q880.4844,3227.0469 880.4844,3228.0781 L880.4844,3229.1719 Q880.4844,3230.4063 881.375,3231.2344 Q882.2656,3232.0469 883.8594,3232.0469 Q884.7969,3232.0469 885.4531,3231.7969 Q885.8438,3231.6406 886.2656,3231.2031 Q886.5313,3230.9375 886.6719,3230.8594 Q886.8281,3230.7813 887.0313,3230.7813 Q887.3594,3230.7813 887.6094,3231.0469 Q887.875,3231.2969 887.875,3231.6406 Q887.875,3231.9844 887.5313,3232.3906 Q887.0313,3232.9688 886.2344,3233.2969 Q885.1563,3233.75 883.8594,3233.75 Q882.3438,3233.75 881.1406,3233.125 Q880.1563,3232.625 879.4688,3231.5625 Q878.7813,3230.4844 878.7813,3229.2031 L878.7813,3228.0469 Q878.7813,3226.7188 879.3906,3225.5781 Q880.0156,3224.4219 881.1094,3223.8125 Q882.2031,3223.1875 883.4375,3223.1875 Q884.1719,3223.1875 884.8125,3223.3594 Q885.4688,3223.5156 886.0156,3223.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="135" x="903.75" y="3233.25">SpellSpawnLayer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="806.5" x2="1103.5" y1="3244" y2="3244"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813.5" y="3252"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="825.5" y="3259.1328">spellPool : SpellPool</text><line style="stroke:#A80036;stroke-width:1.0;" x1="806.5" x2="1103.5" y1="3265.9453" y2="3265.9453"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813.5" y="3273.9453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="238" x="825.5" y="3281.0781">castSpell(cc.Point targetPosition,</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="189" x="825.5" y="3295.0234">SpellType spellType) : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813.5" y="3301.8359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="266" x="825.5" y="3308.9688">effectedMonsterTargetForSpell(cc.Point</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="154" x="825.5" y="3322.9141">spellPosition) : int[]</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813.5" y="3329.7266"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="252" x="825.5" y="3336.8594">effectedTowerTargetForSpell(cc.Point</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="154" x="825.5" y="3350.8047">spellPosition) : int[]</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="0" x="832.5" y="3364.75"/><!--MD5=[be22d3c3affe722cbf7b970f48a4bd53]
class Cầu Lửa--><rect codeLine="314" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="75.8906" id="Cầu Lửa" style="stroke:#A80036;stroke-width:1.5;" width="131" x="1269.5" y="3156"/><ellipse cx="1300.7" cy="3172" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1303.4656,3167.875 Q1303.6219,3167.6563 1303.8094,3167.5469 Q1303.9969,3167.4375 1304.2156,3167.4375 Q1304.5906,3167.4375 1304.825,3167.7031 Q1305.0594,3167.9531 1305.0594,3168.5625 L1305.0594,3170.0156 Q1305.0594,3170.625 1304.825,3170.8906 Q1304.5906,3171.1563 1304.2156,3171.1563 Q1303.8719,3171.1563 1303.6688,3170.9531 Q1303.4656,3170.7656 1303.3563,3170.25 Q1303.3094,3169.8906 1303.1219,3169.7031 Q1302.7938,3169.3281 1302.1844,3169.1094 Q1301.575,3168.8906 1300.95,3168.8906 Q1300.1844,3168.8906 1299.5438,3169.2188 Q1298.9188,3169.5469 1298.4188,3170.2969 Q1297.9344,3171.0469 1297.9344,3172.0781 L1297.9344,3173.1719 Q1297.9344,3174.4063 1298.825,3175.2344 Q1299.7156,3176.0469 1301.3094,3176.0469 Q1302.2469,3176.0469 1302.9031,3175.7969 Q1303.2938,3175.6406 1303.7156,3175.2031 Q1303.9813,3174.9375 1304.1219,3174.8594 Q1304.2781,3174.7813 1304.4813,3174.7813 Q1304.8094,3174.7813 1305.0594,3175.0469 Q1305.325,3175.2969 1305.325,3175.6406 Q1305.325,3175.9844 1304.9813,3176.3906 Q1304.4813,3176.9688 1303.6844,3177.2969 Q1302.6063,3177.75 1301.3094,3177.75 Q1299.7938,3177.75 1298.5906,3177.125 Q1297.6063,3176.625 1296.9188,3175.5625 Q1296.2313,3174.4844 1296.2313,3173.2031 L1296.2313,3172.0469 Q1296.2313,3170.7188 1296.8406,3169.5781 Q1297.4656,3168.4219 1298.5594,3167.8125 Q1299.6531,3167.1875 1300.8875,3167.1875 Q1301.6219,3167.1875 1302.2625,3167.3594 Q1302.9188,3167.5156 1303.4656,3167.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="63" x="1318.3" y="3177.25">Cầu Lửa</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1270.5" x2="1399.5" y1="3188" y2="3188"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1277.5" y="3196"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="1289.5" y="3203.1328">damage : double</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1270.5" x2="1399.5" y1="3209.9453" y2="3209.9453"/><ellipse cx="1280.5" cy="3220.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="1289.5" y="3225.0781">effecting()</text><!--MD5=[ffc9a7a0e9ab5748473bff581d751fac]
class Đóng Băng--><rect codeLine="318" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="75.8906" id="Đóng Băng" style="stroke:#A80036;stroke-width:1.5;" width="131" x="1269.5" y="3045"/><ellipse cx="1292.6" cy="3061" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1295.3656,3056.875 Q1295.5219,3056.6563 1295.7094,3056.5469 Q1295.8969,3056.4375 1296.1156,3056.4375 Q1296.4906,3056.4375 1296.725,3056.7031 Q1296.9594,3056.9531 1296.9594,3057.5625 L1296.9594,3059.0156 Q1296.9594,3059.625 1296.725,3059.8906 Q1296.4906,3060.1563 1296.1156,3060.1563 Q1295.7719,3060.1563 1295.5688,3059.9531 Q1295.3656,3059.7656 1295.2563,3059.25 Q1295.2094,3058.8906 1295.0219,3058.7031 Q1294.6938,3058.3281 1294.0844,3058.1094 Q1293.475,3057.8906 1292.85,3057.8906 Q1292.0844,3057.8906 1291.4438,3058.2188 Q1290.8188,3058.5469 1290.3188,3059.2969 Q1289.8344,3060.0469 1289.8344,3061.0781 L1289.8344,3062.1719 Q1289.8344,3063.4063 1290.725,3064.2344 Q1291.6156,3065.0469 1293.2094,3065.0469 Q1294.1469,3065.0469 1294.8031,3064.7969 Q1295.1938,3064.6406 1295.6156,3064.2031 Q1295.8813,3063.9375 1296.0219,3063.8594 Q1296.1781,3063.7813 1296.3813,3063.7813 Q1296.7094,3063.7813 1296.9594,3064.0469 Q1297.225,3064.2969 1297.225,3064.6406 Q1297.225,3064.9844 1296.8813,3065.3906 Q1296.3813,3065.9688 1295.5844,3066.2969 Q1294.5063,3066.75 1293.2094,3066.75 Q1291.6938,3066.75 1290.4906,3066.125 Q1289.5063,3065.625 1288.8188,3064.5625 Q1288.1313,3063.4844 1288.1313,3062.2031 L1288.1313,3061.0469 Q1288.1313,3059.7188 1288.7406,3058.5781 Q1289.3656,3057.4219 1290.4594,3056.8125 Q1291.5531,3056.1875 1292.7875,3056.1875 Q1293.5219,3056.1875 1294.1625,3056.3594 Q1294.8188,3056.5156 1295.3656,3056.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="81" x="1308.4" y="3066.25">Đóng Băng</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1270.5" x2="1399.5" y1="3077" y2="3077"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1277.5" y="3085"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="1289.5" y="3092.1328">damage : double</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1270.5" x2="1399.5" y1="3098.9453" y2="3098.9453"/><ellipse cx="1280.5" cy="3109.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="70" x="1289.5" y="3114.0781">efecting()</text><!--MD5=[6c0b493ff783b89469ecf281fc4d5e56]
class Tăng Tốc--><rect codeLine="322" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="75.8906" id="Tăng Tốc" style="stroke:#A80036;stroke-width:1.5;" width="124" x="1273" y="2934"/><ellipse cx="1297" cy="2950" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1299.7656,2945.875 Q1299.9219,2945.6563 1300.1094,2945.5469 Q1300.2969,2945.4375 1300.5156,2945.4375 Q1300.8906,2945.4375 1301.125,2945.7031 Q1301.3594,2945.9531 1301.3594,2946.5625 L1301.3594,2948.0156 Q1301.3594,2948.625 1301.125,2948.8906 Q1300.8906,2949.1563 1300.5156,2949.1563 Q1300.1719,2949.1563 1299.9688,2948.9531 Q1299.7656,2948.7656 1299.6563,2948.25 Q1299.6094,2947.8906 1299.4219,2947.7031 Q1299.0938,2947.3281 1298.4844,2947.1094 Q1297.875,2946.8906 1297.25,2946.8906 Q1296.4844,2946.8906 1295.8438,2947.2188 Q1295.2188,2947.5469 1294.7188,2948.2969 Q1294.2344,2949.0469 1294.2344,2950.0781 L1294.2344,2951.1719 Q1294.2344,2952.4063 1295.125,2953.2344 Q1296.0156,2954.0469 1297.6094,2954.0469 Q1298.5469,2954.0469 1299.2031,2953.7969 Q1299.5938,2953.6406 1300.0156,2953.2031 Q1300.2813,2952.9375 1300.4219,2952.8594 Q1300.5781,2952.7813 1300.7813,2952.7813 Q1301.1094,2952.7813 1301.3594,2953.0469 Q1301.625,2953.2969 1301.625,2953.6406 Q1301.625,2953.9844 1301.2813,2954.3906 Q1300.7813,2954.9688 1299.9844,2955.2969 Q1298.9063,2955.75 1297.6094,2955.75 Q1296.0938,2955.75 1294.8906,2955.125 Q1293.9063,2954.625 1293.2188,2953.5625 Q1292.5313,2952.4844 1292.5313,2951.2031 L1292.5313,2950.0469 Q1292.5313,2948.7188 1293.1406,2947.5781 Q1293.7656,2946.4219 1294.8594,2945.8125 Q1295.9531,2945.1875 1297.1875,2945.1875 Q1297.9219,2945.1875 1298.5625,2945.3594 Q1299.2188,2945.5156 1299.7656,2945.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="72" x="1313" y="2955.25">Tăng Tốc</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1274" x2="1396" y1="2966" y2="2966"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1281" y="2974"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="98" x="1293" y="2981.1328">speed : double</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1274" x2="1396" y1="2987.9453" y2="2987.9453"/><ellipse cx="1284" cy="2998.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="1293" y="3003.0781">effecting()</text><!--MD5=[51c505707321d1261e5fe1dff907a242]
class Hồi Máu--><rect codeLine="326" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="75.8906" id="Hồi Máu" style="stroke:#A80036;stroke-width:1.5;" width="166" x="1252" y="2823"/><ellipse cx="1299.25" cy="2839" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1302.0156,2834.875 Q1302.1719,2834.6563 1302.3594,2834.5469 Q1302.5469,2834.4375 1302.7656,2834.4375 Q1303.1406,2834.4375 1303.375,2834.7031 Q1303.6094,2834.9531 1303.6094,2835.5625 L1303.6094,2837.0156 Q1303.6094,2837.625 1303.375,2837.8906 Q1303.1406,2838.1563 1302.7656,2838.1563 Q1302.4219,2838.1563 1302.2188,2837.9531 Q1302.0156,2837.7656 1301.9063,2837.25 Q1301.8594,2836.8906 1301.6719,2836.7031 Q1301.3438,2836.3281 1300.7344,2836.1094 Q1300.125,2835.8906 1299.5,2835.8906 Q1298.7344,2835.8906 1298.0938,2836.2188 Q1297.4688,2836.5469 1296.9688,2837.2969 Q1296.4844,2838.0469 1296.4844,2839.0781 L1296.4844,2840.1719 Q1296.4844,2841.4063 1297.375,2842.2344 Q1298.2656,2843.0469 1299.8594,2843.0469 Q1300.7969,2843.0469 1301.4531,2842.7969 Q1301.8438,2842.6406 1302.2656,2842.2031 Q1302.5313,2841.9375 1302.6719,2841.8594 Q1302.8281,2841.7813 1303.0313,2841.7813 Q1303.3594,2841.7813 1303.6094,2842.0469 Q1303.875,2842.2969 1303.875,2842.6406 Q1303.875,2842.9844 1303.5313,2843.3906 Q1303.0313,2843.9688 1302.2344,2844.2969 Q1301.1563,2844.75 1299.8594,2844.75 Q1298.3438,2844.75 1297.1406,2844.125 Q1296.1563,2843.625 1295.4688,2842.5625 Q1294.7813,2841.4844 1294.7813,2840.2031 L1294.7813,2839.0469 Q1294.7813,2837.7188 1295.3906,2836.5781 Q1296.0156,2835.4219 1297.1094,2834.8125 Q1298.2031,2834.1875 1299.4375,2834.1875 Q1300.1719,2834.1875 1300.8125,2834.3594 Q1301.4688,2834.5156 1302.0156,2834.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="63" x="1319.75" y="2844.25">Hồi Máu</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1253" x2="1417" y1="2855" y2="2855"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1260" y="2863"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="140" x="1272" y="2870.1328">healthSpeed : double</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1253" x2="1417" y1="2876.9453" y2="2876.9453"/><ellipse cx="1263" cy="2887.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="1272" y="2892.0781">effecting()</text><!--MD5=[85486a27cba17e4286fcd0cf73758f17]
class Sức mạnh--><rect codeLine="330" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="75.8906" id="Sức mạnh" style="stroke:#A80036;stroke-width:1.5;" width="194" x="1238" y="3267"/><ellipse cx="1294.75" cy="3283" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1297.5156,3278.875 Q1297.6719,3278.6563 1297.8594,3278.5469 Q1298.0469,3278.4375 1298.2656,3278.4375 Q1298.6406,3278.4375 1298.875,3278.7031 Q1299.1094,3278.9531 1299.1094,3279.5625 L1299.1094,3281.0156 Q1299.1094,3281.625 1298.875,3281.8906 Q1298.6406,3282.1563 1298.2656,3282.1563 Q1297.9219,3282.1563 1297.7188,3281.9531 Q1297.5156,3281.7656 1297.4063,3281.25 Q1297.3594,3280.8906 1297.1719,3280.7031 Q1296.8438,3280.3281 1296.2344,3280.1094 Q1295.625,3279.8906 1295,3279.8906 Q1294.2344,3279.8906 1293.5938,3280.2188 Q1292.9688,3280.5469 1292.4688,3281.2969 Q1291.9844,3282.0469 1291.9844,3283.0781 L1291.9844,3284.1719 Q1291.9844,3285.4063 1292.875,3286.2344 Q1293.7656,3287.0469 1295.3594,3287.0469 Q1296.2969,3287.0469 1296.9531,3286.7969 Q1297.3438,3286.6406 1297.7656,3286.2031 Q1298.0313,3285.9375 1298.1719,3285.8594 Q1298.3281,3285.7813 1298.5313,3285.7813 Q1298.8594,3285.7813 1299.1094,3286.0469 Q1299.375,3286.2969 1299.375,3286.6406 Q1299.375,3286.9844 1299.0313,3287.3906 Q1298.5313,3287.9688 1297.7344,3288.2969 Q1296.6563,3288.75 1295.3594,3288.75 Q1293.8438,3288.75 1292.6406,3288.125 Q1291.6563,3287.625 1290.9688,3286.5625 Q1290.2813,3285.4844 1290.2813,3284.2031 L1290.2813,3283.0469 Q1290.2813,3281.7188 1290.8906,3280.5781 Q1291.5156,3279.4219 1292.6094,3278.8125 Q1293.7031,3278.1875 1294.9375,3278.1875 Q1295.6719,3278.1875 1296.3125,3278.3594 Q1296.9688,3278.5156 1297.5156,3278.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="72" x="1315.25" y="3288.25">Sức mạnh</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1239" x2="1431" y1="3299" y2="3299"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1246" y="3307"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="168" x="1258" y="3314.1328">additionPercent : double</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1239" x2="1431" y1="3320.9453" y2="3320.9453"/><ellipse cx="1249" cy="3331.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="1258" y="3336.0781">effecting()</text><!--MD5=[110796ac762d88922b6a06576bff2f7f]
class UILayer--><rect codeLine="337" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="293.0703" id="UILayer" style="stroke:#A80036;stroke-width:1.5;" width="313" x="798.5" y="86.5"/><ellipse cx="919.25" cy="102.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M922.0156,98.375 Q922.1719,98.1563 922.3594,98.0469 Q922.5469,97.9375 922.7656,97.9375 Q923.1406,97.9375 923.375,98.2031 Q923.6094,98.4531 923.6094,99.0625 L923.6094,100.5156 Q923.6094,101.125 923.375,101.3906 Q923.1406,101.6563 922.7656,101.6563 Q922.4219,101.6563 922.2188,101.4531 Q922.0156,101.2656 921.9063,100.75 Q921.8594,100.3906 921.6719,100.2031 Q921.3438,99.8281 920.7344,99.6094 Q920.125,99.3906 919.5,99.3906 Q918.7344,99.3906 918.0938,99.7188 Q917.4688,100.0469 916.9688,100.7969 Q916.4844,101.5469 916.4844,102.5781 L916.4844,103.6719 Q916.4844,104.9063 917.375,105.7344 Q918.2656,106.5469 919.8594,106.5469 Q920.7969,106.5469 921.4531,106.2969 Q921.8438,106.1406 922.2656,105.7031 Q922.5313,105.4375 922.6719,105.3594 Q922.8281,105.2813 923.0313,105.2813 Q923.3594,105.2813 923.6094,105.5469 Q923.875,105.7969 923.875,106.1406 Q923.875,106.4844 923.5313,106.8906 Q923.0313,107.4688 922.2344,107.7969 Q921.1563,108.25 919.8594,108.25 Q918.3438,108.25 917.1406,107.625 Q916.1563,107.125 915.4688,106.0625 Q914.7813,104.9844 914.7813,103.7031 L914.7813,102.5469 Q914.7813,101.2188 915.3906,100.0781 Q916.0156,98.9219 917.1094,98.3125 Q918.2031,97.6875 919.4375,97.6875 Q920.1719,97.6875 920.8125,97.8594 Q921.4688,98.0156 922.0156,98.375 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="63" x="939.75" y="107.75">UILayer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="799.5" x2="1110.5" y1="118.5" y2="118.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="806.5" y="126.5"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="84" x="818.5" y="133.6328">energy : int</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="806.5" y="140.4453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="818.5" y="147.5781">cardSequence : Card[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="806.5" y="154.3906"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="231" x="818.5" y="161.5234">cardSpriteSequence : CardSprite[]</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="806.5" y="168.3359"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="818.5" y="175.4688">nextCard : Card</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="806.5" y="182.2813"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="818.5" y="189.4141">userInfo : UserInfo</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="806.5" y="196.2266"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="133" x="818.5" y="203.3594">selectedIndex : int</text><line style="stroke:#A80036;stroke-width:1.0;" x1="799.5" x2="1110.5" y1="210.1719" y2="210.1719"/><ellipse cx="809.5" cy="221.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="126" x="818.5" y="225.3047">usingCard() : void</text><ellipse cx="809.5" cy="235.1172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="818.5" y="239.25">randomNextCard() : Card</text><ellipse cx="809.5" cy="249.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="147" x="818.5" y="253.1953">updateEnerge() : void</text><ellipse cx="809.5" cy="263.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="287" x="818.5" y="267.1406">increaseEnergy(int additionEnergy) : void</text><ellipse cx="809.5" cy="276.9531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="245" x="818.5" y="281.0859">foldCardWithIndex(int index) : void</text><ellipse cx="809.5" cy="290.8984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="210" x="818.5" y="295.0313">cardSelected(int index) : void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="799.5" x2="1110.5" y1="301.8438" y2="301.8438"/><polygon fill="none" points="809.5,307.8438,813.5,311.8438,809.5,315.8438,805.5,311.8438" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="273" x="818.5" y="316.9766">chứa thông tin về các thẻ bài quái tiếp</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="224" x="818.5" y="330.9219">theo sẽ được chọn của người chơi</text><polygon fill="none" points="809.5,335.7344,813.5,339.7344,809.5,343.7344,805.5,339.7344" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="273" x="818.5" y="344.8672">chứa năng lượng hiện tại của người chơi</text><polygon fill="none" points="809.5,349.6797,813.5,353.6797,809.5,357.6797,805.5,353.6797" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="280" x="818.5" y="358.8125">hiển thị các thông tin liên quan tới màn</text><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="28" x="818.5" y="372.7578">chơi</text><!--MD5=[5e305716458bbdabbd2d7f572ed2bae2]
class Card--><rect codeLine="357" fill="#FEFECE" filter="url(#fs3c5wokjyu48)" height="103.7813" id="Card" style="stroke:#A80036;stroke-width:1.5;" width="201" x="474.5" y="181"/><ellipse cx="552.75" cy="197" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M555.5156,192.875 Q555.6719,192.6563 555.8594,192.5469 Q556.0469,192.4375 556.2656,192.4375 Q556.6406,192.4375 556.875,192.7031 Q557.1094,192.9531 557.1094,193.5625 L557.1094,195.0156 Q557.1094,195.625 556.875,195.8906 Q556.6406,196.1563 556.2656,196.1563 Q555.9219,196.1563 555.7188,195.9531 Q555.5156,195.7656 555.4063,195.25 Q555.3594,194.8906 555.1719,194.7031 Q554.8438,194.3281 554.2344,194.1094 Q553.625,193.8906 553,193.8906 Q552.2344,193.8906 551.5938,194.2188 Q550.9688,194.5469 550.4688,195.2969 Q549.9844,196.0469 549.9844,197.0781 L549.9844,198.1719 Q549.9844,199.4063 550.875,200.2344 Q551.7656,201.0469 553.3594,201.0469 Q554.2969,201.0469 554.9531,200.7969 Q555.3438,200.6406 555.7656,200.2031 Q556.0313,199.9375 556.1719,199.8594 Q556.3281,199.7813 556.5313,199.7813 Q556.8594,199.7813 557.1094,200.0469 Q557.375,200.2969 557.375,200.6406 Q557.375,200.9844 557.0313,201.3906 Q556.5313,201.9688 555.7344,202.2969 Q554.6563,202.75 553.3594,202.75 Q551.8438,202.75 550.6406,202.125 Q549.6563,201.625 548.9688,200.5625 Q548.2813,199.4844 548.2813,198.2031 L548.2813,197.0469 Q548.2813,195.7188 548.8906,194.5781 Q549.5156,193.4219 550.6094,192.8125 Q551.7031,192.1875 552.9375,192.1875 Q553.6719,192.1875 554.3125,192.3594 Q554.9688,192.5156 555.5156,192.875 Z " fill="#000000"/><text fill="#000000" font-family="consolas" font-size="16" lengthAdjust="spacing" textLength="36" x="573.25" y="202.25">Card</text><line style="stroke:#A80036;stroke-width:1.5;" x1="475.5" x2="674.5" y1="213" y2="213"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="482.5" y="221"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="105" x="494.5" y="228.1328">type : CardType</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="482.5" y="234.9453"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="77" x="494.5" y="242.0781">level : int</text><line style="stroke:#A80036;stroke-width:1.0;" x1="475.5" x2="674.5" y1="248.8906" y2="248.8906"/><ellipse cx="485.5" cy="259.8906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="175" x="494.5" y="264.0234">createCardSprite() : void</text><ellipse cx="485.5" cy="273.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="cascadia code" font-size="12" lengthAdjust="spacing" textLength="161" x="494.5" y="277.9688">changeCardType() : void</text><!--MD5=[b8c28a5aedc054efc967371c5cf39320]
reverse link Effect to MonsterEffecting--><path d="M2201.82,1934.44 C2260.21,1941.85 2331.82,1950.95 2386.93,1957.94 " fill="none" id="Effect-backto-MonsterEffecting" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="2200.73,1941.36,2181.77,1931.89,2202.5,1927.47,2200.73,1941.36" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f86368821dc7fb1b528a5002b1613f26]
reverse link Effect to TowerEffecting--><path d="M2201.65,1907.31 C2263.31,1899.31 2339.77,1889.4 2395.96,1882.12 " fill="none" id="Effect-backto-TowerEffecting" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="2202.51,1914.25,2181.77,1909.88,2200.71,1900.37,2202.51,1914.25" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a1fd791df9f41b733b8efe4f004df3a2]
link MapController to MapLayer--><path codeLine="95" d="M735.21,575 C750.66,575 766.38,575 781.94,575 " fill="none" id="MapController-to-MapLayer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="794.97,575,788.97,571,782.97,575,788.97,579,794.97,575" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="743.1397" y="588.8841">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="780.049" y="588.8841">1</text><!--MD5=[71b2c318b43cfb219fc7cda3a44398d2]
link Cell to MapController--><path codeLine="96" d="M355.18,575 C370.5,575 386.16,575 401.71,575 " fill="none" id="Cell-to-MapController" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="414.73,575,408.73,571,402.73,575,408.73,579,414.73,575" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="363.0783" y="588.9251">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="399.7974" y="588.8841">1</text><!--MD5=[5488d7359e2785aeb997371ef8a57ef7]
reverse link TowerSprite to SupportTower--><path d="M1891.19,2578.68 C1905.43,2590 1920.1,2600.59 1935,2610 C1954.18,2622.11 1976.32,2632.02 1997.87,2639.95 " fill="none" id="TowerSprite-backto-SupportTower" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1886.29,2583.72,1875.29,2565.61,1895.18,2572.9,1886.29,2583.72" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[57f3b9ba804dba3f6866c051437ca3e0]
reverse link TowerSprite to AttackTower--><path d="M1894.41,2444.75 C1909.07,2449.25 1923.82,2453.78 1938.3,2458.22 " fill="none" id="TowerSprite-backto-AttackTower" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1892.28,2451.42,1875.21,2438.86,1896.38,2438.03,1892.28,2451.42" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bad88f404f35e9e78c86bd7718e78091]
reverse link TowerSpawnLayer to TowerSprite--><path codeLine="191" d="M1508.24,2342.64 C1523.81,2346.23 1539.53,2349.84 1554.97,2353.4 " fill="none" id="TowerSpawnLayer-backto-TowerSprite" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1495.21,2339.64,1500.1595,2344.8843,1506.904,2342.3325,1501.9545,2337.0883,1495.21,2339.64" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1503.1397" y="2355.3029">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1540.049" y="2365.5096">n</text><!--MD5=[cca867b2e2153c54be0404fac24781a8]
reverse link AttackTower to BulletPool--><path codeLine="192" d="M2263.93,2444.69 C2280.86,2438.51 2298.02,2432.25 2314.85,2426.1 " fill="none" id="AttackTower-backto-BulletPool" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="2251.66,2449.17,2258.6677,2450.8708,2262.9329,2445.0564,2255.9252,2443.3556,2251.66,2449.17" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2259.4178" y="2460.3203">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2299.9232" y="2442.8173">1</text><!--MD5=[ff07cacd2953b80ba1f09548668303dc]
link BulletSprite to BulletPool--><path codeLine="193" d="M2255.21,2288.12 C2270.81,2293.82 2286.69,2299.62 2302.41,2305.36 " fill="none" id="BulletSprite-to-BulletPool" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="2314.97,2309.94,2310.7048,2304.1256,2303.6971,2305.8264,2307.9623,2311.6408,2314.97,2309.94" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2263.1397" y="2304.8259">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2300.049" y="2321.0308">1</text><!--MD5=[7360ec25398581cac27c61460dcf9154]
reverse link MonsterSprite to Quạ Xương--><path d="M1895.07,1096.32 C1947.12,1107.75 2000.16,1119.4 2038.38,1127.79 " fill="none" id="MonsterSprite-backto-Quạ Xương" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1893.24,1103.09,1875.21,1091.96,1896.25,1089.41,1893.24,1103.09" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d891152fef73a4072957bd8193b4a3c1]
reverse link MonsterSprite to Khổng Lồ--><path d="M1895.41,1057 C1949.38,1057 2004.4,1057 2042.8,1057 " fill="none" id="MonsterSprite-backto-Khổng Lồ" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1895.21,1064,1875.21,1057,1895.21,1050,1895.21,1064" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[83a2a658fa11d4351682668ba1f0e75e]
reverse link MonsterSprite to Kiếm Ma--><path d="M1895.05,1017.68 C1951.38,1005.32 2008.89,992.69 2047.49,984.21 " fill="none" id="MonsterSprite-backto-Kiếm Ma" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1896.25,1024.59,1875.21,1022.04,1893.24,1010.91,1896.25,1024.59" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[609542ff2d29e2a383e1d329a60ca444]
reverse link MonsterSprite to Dơi Quỷ--><path d="M1893.24,950.7 C1907.16,943.94 1921.18,937.61 1935,932 C1971.58,917.15 2015.12,906.37 2047.38,899.6 " fill="none" id="MonsterSprite-backto-Dơi Quỷ" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1896.03,957.13,1875.01,959.81,1889.77,944.6,1896.03,957.13" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8a998627223f1af54e6cbcc8eeb296c1]
reverse link MonsterSprite to Xương Độn Thổ--><path d="M1813.96,945.19 C1849.21,910.37 1891.17,874.47 1935,849 C1947.96,841.47 1962.22,835.01 1976.71,829.51 " fill="none" id="MonsterSprite-backto-Xương Độn Thổ" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1818.83,950.21,1799.78,959.49,1808.89,940.35,1818.83,950.21" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[463562ae69bb3346cf3141b08b2e1b25]
link MonsterSprite to Monster--><path codeLine="275" d="M1802.72,1154.5 C1838.12,1194.31 1880.38,1241.82 1921.57,1288.13 " fill="none" id="MonsterSprite-to-Monster" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1926.84,1283.52,1934.9,1303.12,1916.38,1292.83,1926.84,1283.52" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[744fd2e8ff6f3ea4ddd8aeaa7eb0898d]
reverse link MonsterPool to MonsterSprite--><path codeLine="276" d="M1508.24,1057 C1523.81,1057 1539.53,1057 1554.97,1057 " fill="none" id="MonsterPool-backto-MonsterSprite" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1495.21,1057,1501.21,1061,1507.21,1057,1501.21,1053,1495.21,1057" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1503.1397" y="1070.9031">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1540.049" y="1070.8802">n</text><!--MD5=[b6dda0b6ddaf2c3b186e233ecf40900d]
reverse link MonsterSpawnerLayer to MonsterPool--><path codeLine="277" d="M1128.24,1057 C1143.81,1057 1159.53,1057 1174.97,1057 " fill="none" id="MonsterSpawnerLayer-backto-MonsterPool" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1115.21,1057,1121.21,1061,1127.21,1057,1121.21,1053,1115.21,1057" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1123.1397" y="1070.8894">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1160.049" y="1070.9031">1</text><!--MD5=[96387ae5e5cf39fe5abb2a99f5f6b9e8]
reverse link SpellSprite to Cầu Lửa--><path d="M1068.33,3115.99 C1133.88,3135.23 1214.23,3158.83 1269.3,3175 " fill="none" id="SpellSprite-backto-Cầu Lửa" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1066.17,3122.65,1048.95,3110.3,1070.12,3109.21,1066.17,3122.65" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[317668baf06f00c27ab23c3181a939f4]
reverse link SpellSprite to Đóng Băng--><path d="M1069.18,3083 C1134.57,3083 1214.47,3083 1269.3,3083 " fill="none" id="SpellSprite-backto-Đóng Băng" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1068.95,3090,1048.95,3083,1068.95,3076,1068.95,3090" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[70d21a21b78e8ca197bae6b307ab3dfa]
reverse link SpellSprite to Tăng Tốc--><path d="M1068.28,3050.03 C1135.22,3030.37 1217.62,3006.18 1272.75,2989.99 " fill="none" id="SpellSprite-backto-Tăng Tốc" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1070.12,3056.79,1048.95,3055.7,1066.17,3043.35,1070.12,3056.79" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c288a0f032d487b3d8ca28a14af510a9]
reverse link SpellSprite to Hồi Máu--><path d="M1066.23,3035.04 C1093.61,3018.38 1120.41,2997.14 1139,2971 C1153.5,2950.61 1134,2934.36 1151,2916 C1176.8,2888.12 1216.13,2874.18 1251.73,2867.29 " fill="none" id="SpellSprite-backto-Hồi Máu" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1069.55,3041.21,1048.71,3045.08,1062.58,3029.06,1069.55,3041.21" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bf6fc304674948a5a59667c8c79e47bd]
reverse link SpellSprite to Sức mạnh--><path d="M1066.23,3130.96 C1093.61,3147.62 1120.41,3168.86 1139,3195 C1153.5,3215.39 1134,3231.64 1151,3250 C1173.42,3274.22 1206.06,3287.93 1237.59,3295.63 " fill="none" id="SpellSprite-backto-Sức mạnh" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="1062.58,3136.94,1048.71,3120.92,1069.55,3124.79,1062.58,3136.94" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[05ad840c7c407d0b0e3e89756c0efa8b]
link Card to UILayer--><path codeLine="365" d="M675.81,233 C709.37,233 747.79,233 785.15,233 " fill="none" id="Card-to-UILayer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="798.31,233,792.31,229,786.31,233,792.31,237,798.31,233" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="683.4703" y="247.1036">n</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="783.5508" y="246.8894">1</text><!--MD5=[31fcc87e35b8b78ef7848bec9ba68439]
reverse link BattleController to MonsterSpawnerLayer--><path codeLine="368" d="M748.24,1057 C763.81,1057 779.53,1057 794.97,1057 " fill="none" id="BattleController-backto-MonsterSpawnerLayer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="735.21,1057,741.21,1061,747.21,1057,741.21,1053,735.21,1057" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="743.1397" y="1070.9013">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="780.049" y="1070.8894">1</text><!--MD5=[8cf029c364b0c32d532543753d6c599d]
reverse link BattleController to UILayer--><path codeLine="369" d="M689.25,835.43 C706.77,794.52 722.99,751.58 735,710 C768.58,593.69 720.73,550.13 771,440 C780.51,419.16 792.84,398.9 806.61,379.72 " fill="none" id="BattleController-backto-UILayer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="684.03,847.48,690.0865,843.5661,688.8031,836.4701,682.7466,840.384,684.03,847.48" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="681.1523" y="836.4933">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="791.7782" y="401.2001">1</text><!--MD5=[d79b9be6e37e9eb580a5251a93acca80]
reverse link BattleController to TowerSpawnLayer--><path codeLine="370" d="M603.07,1279.5 C628.94,1429.6 678.34,1627.51 771,1781 C873.64,1951.02 1047.52,2099.96 1174.95,2194.76 " fill="none" id="BattleController-backto-TowerSpawnLayer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="600.87,1266.51,597.9274,1273.0934,602.8727,1278.3417,605.8152,1271.7583,600.87,1266.51" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="594.6739" y="1287.8358">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1160.028" y="2203.4052">1</text><!--MD5=[a2bc073d8caa864f71a2b2d73503e509]
reverse link BattleController to MapLayer--><path codeLine="371" d="M709.63,836.38 C729.25,807.95 749.97,779.79 771,754 C787.57,733.68 806.23,713.22 825.12,693.76 " fill="none" id="BattleController-backto-MapLayer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="702.17,847.28,708.8597,844.5878,708.9476,837.3773,702.2579,840.0694,702.17,847.28" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="699.6144" y="836.9647">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="809.5753" y="715.3777">1</text><!--MD5=[85e5b2152495accb8f8e6a9eb4a8ee64]
reverse link BattleController to SpellSpawnLayer--><path codeLine="372" d="M584.44,1279.71 C605.64,1794.9 667,3037 771,3194 C780.16,3207.82 791.93,3219.84 805.08,3230.26 " fill="none" id="BattleController-backto-SpellSpawnLayer" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="583.9,1266.56,580.1473,1272.7177,584.388,1278.5501,588.1407,1272.3924,583.9,1266.56" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="577.0941" y="1287.8876">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="790.6487" y="3241.1712">1</text><!--MD5=[fdb39f4bb5fb0493ca0751b2a07b0c23]
reverse link MonsterSprite to Effect--><path codeLine="373" d="M1730.16,1167.81 C1753.34,1317.1 1809.98,1586.51 1935,1781 C1956.68,1814.72 1988.72,1845.11 2018.37,1868.89 " fill="none" id="MonsterSprite-backto-Effect" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1728.15,1154.62,1725.0996,1161.1541,1729.9578,1166.483,1733.0083,1159.9489,1728.15,1154.62" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1721.919" y="1176.5277">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2000.1017" y="1857.9722">n</text><!--MD5=[dc8d264262dbc0274ff2eb622059995c]
reverse link TowerSprite to Effect--><path codeLine="374" d="M1870.2,2141.73 C1890.89,2113.32 1912.71,2085.46 1935,2060 C1962.41,2028.69 1996.77,1997.82 2026.53,1973.16 " fill="none" id="TowerSprite-backto-Effect" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="1862.32,2152.64,1869.0734,2150.1119,1869.3372,2142.9056,1862.5838,2145.4337,1862.32,2152.64" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1860.0391" y="2142.0841">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2010.3088" y="1994.3997">n</text><!--MD5=[56e7c37f417f2d7ac0e3a6229da3d669]
@startuml
skinparam wrapwidth 300
skinparam classfontname consolas
skinparam classfontsize 16
skinparam classattributefontname cascadia code
skinparam classattributefontsize 12
left to right direction

package Battle {
    package Effecting {
        class Effect {
            - startingTime : double
            - effectime : double
            - effecting()
            - isEnded() : bool
        }

        class MonsterEffecting extends Effect{
            - effecting()
        }

        class TowerEffecting extends Effect{
            - effecting()
        }
    }

    class BattleController  {
        - gameState : GameState
        - uiLayer : UILayer
        - mapLayer : MapLayer
        - monsterSpawn : MonsterSpawnLayer
        - round : int
        - levelDescription : LevelDescription
        - - -
        + getGameState() : void 
        + getLevelDescription() : void
        + runNextRound() : void
        + updateGameState(GameState newGameState) : void
        + updateUILayer() : void
        + updateMapLayer() : void
        + udateMonsterLayer() : void
        + updateTowerLayer() : void
        + serverListenr() : void
        - - -
        # chứa các layer liên quan tới game
        # nó sẽ chứa map của 2 người chơi
        # chứa thông tin của hai người chơi
        # lớp trực tiếp trao đổi với server
        # có khả năng gọi một layer nào đó cập nhật trạng thái lại
        # chứa các hàm để các layer có thể gọi được update
        # chứa thông tin hiện tại của cả hai người chơi
    }
    
    package Map {

        class MapLayer {
            - map : MapController
            - mapSprite : cc.Sprite[][]
            - cursorSrite : cc.Sprite
            - - -
            + updateMapLayer() : void
            + addTouchListener() : void
            + cardSelected(Card selectedCard) : void
            + changeCursorSprite() : void
            + getPathFromIndex(cc.Point index) : void
            - - -
            # chứa map hiện tại của người chơi, cập nhật ô đặc biệt, cập nhật trụ
            # có mối liên hệ với UILayer, khi một người bật card lên, mapLayer sẽ xác định các vị trí mà card có thể đặt được
        }

        class MapController {
            - map : Cell[][]
            - - -
            + pathFinding()
            + canPlantHere(cc.Point position) : bool
            + plantTower(cc.Point position) : void
            + updateMap() : void
            - - -
            # thực hiện nhận map từ server ()
            # thực hiện tìm đường đi có trong map hiện tại ()
            # thực hiện kiểm tra xem một trụ được đặt có hợp lệ hay không ()
            # thực hiện cập nhật những gì mà server gửi - những nước đi của đối thủ ()
            # thực hiện giao tiếp với TowerLayer
        }

        class Cell  {
            - cellType : CellType
            - path : cc.Point[]
            - - -
            + changeCellType(CellType newCellType) : void
            - - -
            # có danh sách đường đi
            # có trạng thái hiện tại 
        }

        MapController "2" - -* "1" MapLayer
        Cell "n" - -* "1" MapController

    }

    package Tower {
        class TowerSpawnLayer  {
            - towerSequence : Tower[]
            - - -
            + towerTargeted() : void
            + addTouchListener() : void
            + findingTargetForTower(cc.Point position, AttackMode attackMode) : void
            + canUpdateTowerInIndex(cc.Point index, CardType cardType) : bool
            + updateTowerWithIndex(cc.Point index)
            - - -
            # thực hiện hiển thị các trụ lên sân
            # thực hiện cập nhât và xử lý hình ảnh của các trụ
            # thực hiện giao tiếp với MonsterLayer để lấy được danh sách quái
            # thực hiện các cử chỉ với trụ (trong đó bao gồm cả nâng cấp và điều chỉnh chế độ chọn mục tiêu của trụ)
        }

        class TowerSprite {
            - index : cc.Point
            - id : int
            - range : float
            - level : int
            - canAttack : bool
            - effectd : TowerEffecting[]
            - type : TowerType
            - - -
            + fire() : void
            + createAnimation() : void
            + changeTarget() : void
            + updateSprite() : void
            + update()
            - - -
            # bắt được danh sách các loại quái hiên tại đang ở trong phạm vi
            # năng lượng sử dụng để đặt khác nhau
            # tháp có khả năng tiến hóa được
            # hệ thống có nhiều các ưu tiên cho quái lựa chọn
            # hệ thống đạn bắn - 2 loại
            # 7 loại trụ, mỗi loại trụ có các loại đạn khác nhau
            # loại đạn có thể là tầm rộng hoặc là một mục tiêu duy nhất
            # có thể có trụ không bắn ra đạn - trụ hỗ trợ
            # có thể hủy tháp đã chọn
            # có thể có được danh sách quái hiện tại đang ở vị trí nào trên bản đồ
            # có các phương thức thực hiện các các lựa chọn quái vật khác nhau
        }

        class SupportTower extends TowerSprite {
            - target : Monster | Tower
            - - -
            + fire() : void
        }

        class AttackTower extends TowerSprite {
            - attackSpeed : float
            - dame : float
            - haveTarget : bool
            - bulletPool : BulletPool
            - targetId : int
            - attackMode : AttackMode
            - - -
            + fire() : void
            + canTargetOnThis(cc.Point position) : bool
            + untarget() : void
        }

        class BulletPool {
            - bulletPool : BulletSprite[]
            - - -
            + registerSpriteWithLayer(BulletSprite bulletSprite) : void
            + getBullet(BulletType bulletType) : BulletSprite
            + createBullet(BulletType bulletType) : BulletSprite
            + haveBulletInPool(BulletType bulletType) : BulletSprite
        }

        class BulletSprite  {
            - inUsed : bool
            - speed : int
            - damage : double
            - range : double
            - towerPosition : cc.Point
            - type : Bullet.PosisionBase | Bullet.TargetBase
            - - -
            + create() : BulletSprite
            + animate() : void
            + createAnimation() : void
            + effecting() : void
            + {abstract} exploded() : void
            - - -
            # mỗi tòa tháp sẽ có một loại đạn riêng, override lại effecting
            # mỗi loại đạn sẽ có các hành vi khách nhau như là nổ lan, gây đống băng, ...
            # đạn sẽ có các thuộc tính cơ bản như là tốc độ bay, chuỗi animation, và sức sát thương
        }

        TowerSpawnLayer "1" *- - "n" TowerSprite
        AttackTower "1" *- - "1" BulletPool
        BulletSprite "n" - -* "1" BulletPool
    }

    package Monster {

        class MonsterPool {
            - monsterPool : MonsterSprite[]
            - - -
            + registerSpriteWithLayer(MonsterSprite monsterSprite) : void
            + getMonster(MonsterType monsterType) : MonsterSprite
            + createMonster(MonsterType monsterType) : MonsterSprite
            + haveMonsterInPool(MonsterType monsterType) : MonsterSprite
        }

        class MonsterSpawnerLayer  {
            - monsterPool : MonsterPool
            - - -
            - generateMonster(LevelDescription levelDescription) : void
            - update() : void
            - collisionTracking() : void 
            - spawnMonster(MonsterType monsterType) : void
            - untarget(int monsterId) : void
            - - -
            + thực hiện việc spawn và di chuyển các monster 
            + thực hiện việc quản lý monster sinh ra
            + có khả năng cập nhật ngay và luôn vị trí của một monster nào đấy
            + kiểm soát hướng đi của các con quái
            + kiểm soát va chạm giữa các con quái, kiểm soát tốc độ của các con quái
            + thực hiện tái sử dụng các con quái
        }

        class Monster {
            - id : int
            - health : double
            - damage : double
            - speed : double
            - weight : double
            - directionVector : cc.Point
            - inUse : bool
            - canTagetd : bool
            - effectd : MonsterEffect[]
            - - -
            + update() : void
            + resetState() : void
            - - -
            # tạo animation theo các hướng đi
            # thực hiện di chuyển theo vector mà MonsterManager đưa ra cho con quái
            # có thể thực hiện đẩy các con quái đi chậm hơn
            # khi tới địa điểm đích tự chuyển trạng thái inUse
            # nhận cac effect và tự biết kết thúc effect đúng lúc
            - - -
            # các con quái có thể va chạm với nhau
            # một loại quái có thể có nhiều con, những con này đều có chung tài nguyên về sprite
            # có tới 5 loại quái
            # các chỉ số sinh lực, sức sát thương, có thể chọn làm mục tiêu không, số lượng năng lượng riêng
            # có thanh máu
            # có quái có những bước đi đặc biệt
            # quái được đối phương thả sẽ có vòng tròn màu đỏ dưới chân, quái mình thả sẽ có màu xanh dưới chân
            # quái có thể tự tương tác với chính nó để thực hiện các skill liên quan tới di  chuyển
            # quái cũng có thể tương tác với các trụ
        }

        class MonsterSprite {
            - monsterAsset : MonsterAsset
            - monsterDirection : cc.Point
            - canTageted : bool
            - - -
            + moving() : void
            + createAnimationWithDirection() : cc.Animate
            + updateDirection(cc.Point newDirection) : void
            - - -
            # thực hiện khởi tọa animation và tạo ra các di chuyển cho các con quái
        }
         
        class "Quạ Xương" extends MonsterSprite {}
        class "Khổng Lồ" extends MonsterSprite {}
        class "Kiếm Ma" extends MonsterSprite {}
        class "Dơi Quỷ" extends MonsterSprite {}
        class "Xương Độn Thổ" extends MonsterSprite {
            + createGroundAnimation() : void
        }

        MonsterSprite - -|> Monster
        MonsterPool "1" *- - "n" MonsterSprite
        MonsterSpawnerLayer "1" *- - "1" MonsterPool
    }
    
    package SpellCasting {

        class SpellPool {
            - spellPool : SpellSprite[]
            - - -
            + registerSpriteWithLayer(SpellSprite spellSprite) : void
            + getSpell(SpellType spellType) : SpellSprite
            + createSpell(SpellType spellType) : SpellSprite
            + haveSpellInPool(SpellType spellType) : SpellSprite
        }

        class SpellSprite {
            - id : int
            - inUse : bool
            - spellAsset : SpellAsset
            - targetsId : int[]
            - timeEffect : double
            - statingTime : int
            - - -
            + createAnimation()
            + effecting()
            + endEffect()
            + update()
        }

        class SpellSpawnLayer {
            - spellPool : SpellPool
            - - -
            - castSpell(cc.Point targetPosition, SpellType spellType) : void
            - effectedMonsterTargetForSpell(cc.Point spellPosition) : int[]
            - effectedTowerTargetForSpell(cc.Point spellPosition) : int[]
            
        }

        class "Cầu Lửa" extends SpellSprite {
            - damage : double
            + effecting()
        }
        class "Đóng Băng" extends SpellSprite {
            - damage : double
            + efecting()
        }
        class "Tăng Tốc" extends SpellSprite {
            - speed : double
            + effecting()
        }
        class "Hồi Máu" extends SpellSprite {
            - healthSpeed : double
            + effecting()
        }
        class "Sức mạnh" extends SpellSprite {
            - additionPercent : double
            + effecting()
        }
    }

    package UI {
        class UILayer {
            - energy : int
            - cardSequence : Card[]
            - cardSpriteSequence : CardSprite[]
            - nextCard : Card
            - userInfo : UserInfo
            - selectedIndex : int
            - - -
            + usingCard() : void
            + randomNextCard() : Card
            + updateEnerge() : void
            + increaseEnergy(int additionEnergy) : void
            + foldCardWithIndex(int index) : void
            + cardSelected(int index) : void
            - - -
            # chứa thông tin về các thẻ bài quái tiếp theo sẽ được chọn của người chơi
            # chứa năng lượng hiện tại của người chơi
            # hiển thị các thông tin liên quan tới màn chơi
        }

        class Card {
            - type : CardType
            - level : int
            - - -
            + createCardSprite() : void
            + changeCardType() : void
        }

        Card "n" - -* "1" UILayer
    }

    BattleController "1" *- - "1" MonsterSpawnerLayer
    BattleController "1" *- - "1" UILayer
    BattleController "1" *- - "1" TowerSpawnLayer
    BattleController "1" *- - "1" MapLayer
    BattleController "1" *- - "1" SpellSpawnLayer
    MonsterSprite "1" o- - "n" Effect
    TowerSprite "1" o- - "n" Effect
}

@enduml

PlantUML version 1.2022.0(Tue Jan 11 08:16:42 PST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>